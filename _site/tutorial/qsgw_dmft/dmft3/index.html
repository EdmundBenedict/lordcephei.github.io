<!doctype html> <html class="no-js" lang="en"> <head> <meta charset="utf-8" /> <meta name="viewport" content="width=device-width, initial-scale=1.0" /> <title>Third tutorial on QSGW+DMFT</title> <link rel="stylesheet" href="https://lordcephei.github.io/assets/css/styles_feeling_responsive.css"> <script src="https://lordcephei.github.io/assets/js/modernizr.min.js"></script> <script src="https://ajax.googleapis.com/ajax/libs/webfont/1.5.18/webfont.js"></script> <script> WebFont.load({ google: { families: [ 'Lato:400,700,400italic:latin', 'Volkhov::latin' ] } }); </script> <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script> <noscript> <link href='http://fonts.googleapis.com/css?family=Lato:400,700,400italic|Volkhov' rel='stylesheet' type='text/css'> </noscript> <meta name="google-site-verification" content="KBbEPlf44q4dfL6SBHqymelMqXBSuZHSXIo-ZfkQLbE" /> <meta name="msvalidate.01" content="0FB4C028ABCF07C908C54386ABD2D97F" /> <meta name="description" content="Questaal is a suite of programs for LMTO and GW simulations."/> <link rel="author" href="https://plus.google.com/u/0/104386739373934968982"/> <link rel="icon" sizes="32x32" href="https://lordcephei.github.io/assets/img/favicon-32x32.png"> <link rel="icon" sizes="192x192" href="https://lordcephei.github.io/assets/img/touch-icon-192x192.png"> <link rel="apple-touch-icon-precomposed" sizes="180x180" href="https://lordcephei.github.io/assets/img/apple-touch-icon-180x180-precomposed.png"> <link rel="apple-touch-icon-precomposed" sizes="152x152" href="https://lordcephei.github.io/assets/img/apple-touch-icon-152x152-precomposed.png"> <link rel="apple-touch-icon-precomposed" sizes="144x144" href="https://lordcephei.github.io/assets/img/apple-touch-icon-144x144-precomposed.png"> <link rel="apple-touch-icon-precomposed" sizes="120x120" href="https://lordcephei.github.io/assets/img/apple-touch-icon-120x120-precomposed.png"> <link rel="apple-touch-icon-precomposed" sizes="114x114" href="https://lordcephei.github.io/assets/img/apple-touch-icon-114x114-precomposed.png"> <link rel="apple-touch-icon-precomposed" sizes="76x76" href="https://lordcephei.github.io/assets/img/apple-touch-icon-76x76-precomposed.png"> <link rel="apple-touch-icon-precomposed" sizes="72x72" href="https://lordcephei.github.io/assets/img/apple-touch-icon-72x72-precomposed.png"> <link rel="apple-touch-icon-precomposed" href="https://lordcephei.github.io/assets/img/apple-touch-icon-precomposed.png"> <meta name="msapplication-TileImage" content="https://lordcephei.github.io/assets/img/msapplication_tileimage.png"/> <meta name="msapplication-TileColor" content="#fabb00"> <!-- Facebook Optimization --> <meta property="og:locale" content="en_EN" /> <meta property="og:type" content="website" /> <meta property="og:title" content="Third tutorial on QSGW+DMFT" /> <meta property="og:description" content="Questaal is a suite of programs for LMTO and GW simulations."/> <meta property="og:url" content="https://lordcephei.github.io//tutorial/qsgw_dmft/dmft3/" /> <meta property="og:site_name" content="Questaal" /> <!-- Search Engine Optimization --> <link type="text/plain" rel="author" href="https://lordcephei.github.io/humans.txt" /> <script type="text/x-mathjax-config"> MathJax.Hub.Config({ extensions: ["tex2jax.js", "AMSmath.js"], jax: ["input/TeX", "output/HTML-CSS"], tex2jax: { inlineMath: [ ['$','$'] ], displayMath: [ ['$$','$$'] ], processEscapes: true }, }); </script> <script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"> </script> <style type="text/css"> red { color:purple; /*This changes the color of your text */ font-size:24pt; /*This changes the font size of your text */ } </style> </head> <body id="top-of-page" class="page-fullwidth"> <div id="navigation" class="sticky"> <nav class="top-bar" data-topbar> <ul class="title-area"> <li class="name"> <h1 class="hide-for-large-up"> <a href="https://lordcephei.github.io"> <img src="https://lordcephei.github.io/images/logo.png" style="width:125px;height:40px"></a></h1> </li> <!-- Remove the class "menu-icon" to get rid of menu icon. Take out "Menu" to just have icon alone --> <li class="toggle-topbar menu-icon"><a href="#"><span>Navigation</span></a></li> </ul> <section class="top-bar-section"> <ul class="left"> <li class ="show-for-large-up"><a href="https://lordcephei.github.io/"> <img src="https://lordcephei.github.io/images/logo.png" style="width:125px;height:40px"></a></li> <li class="divider"></li> <li class="has-dropdown"> <a href="https://lordcephei.github.io">Functionality</a> <ul class="dropdown"> <li><a href="https://lordcephei.github.io/functionality/application/">By Physical Application</a></li> <li><a href="https://lordcephei.github.io/functionality/program/">By Suite Program</a></li> </ul> </li> <li class="divider"></li> <li class="has-dropdown"> <a href="https://lordcephei.github.io">Documentation</a> <ul class="dropdown"> <li><a href="https://lordcephei.github.io/docs/package_overview/">Package Overview</a></li> <li><a href="https://lordcephei.github.io/docs/install/">Installation</a></li> <li class="has-dropdown"><a href="#">Description by code</a> <ul class="dropdown"> <li><a href="https://lordcephei.github.io/docs/code/fpoverview/">Full Potential Overview</a></li> <li><a href="https://lordcephei.github.io/docs/code/gwoverview/">GW Overview</a></li> <li><a href="https://lordcephei.github.io/docs/code/dmftoverview/">Dynamical Mean Field Theory</a></li> <li><a href="https://lordcephei.github.io/docs/code/asaoverview/">ASA Overview</a></li> <li><a href="https://lordcephei.github.io/docs/code/lmgf/">ASA Green's function</a></li> <li><a href="https://lordcephei.github.io/docs/code/smhankels/">Smooth Hankel Functions</a></li> <li><a href="https://lordcephei.github.io/docs/code/jpos/">Jigsaw Puzzle Orbitals</a></li> <li><a href="https://lordcephei.github.io/docs/code/cpadoc/">CPA Enhancement of the Green's function package</a></li> <li><a href="https://lordcephei.github.io/docs/code/spectral-functions/">Spectral function calculations with lmgf</a></li> </ul></li> <li class="has-dropdown"><a href="#">Input Files</a> <ul class="dropdown"> <li><a href="https://lordcephei.github.io/docs/input/inputfile/">The Input File</a></li> <li><a href="https://lordcephei.github.io/docs/input/preprocessor/">File Preprocessor</a></li> <li><a href="https://lordcephei.github.io/docs/input/sitefile/">The Site file</a></li> <li><a href="https://lordcephei.github.io/docs/input/symfile/">Symmetry Line Files</a></li> </ul></li> <li class="has-dropdown"><a href="#">Annotated Output Files</a> <ul class="dropdown"> <li><a href="https://lordcephei.github.io/docs/outputs/lmf_output/">lmf standard output</a></li> </ul></li> <li class="has-dropdown"><a href="#">Command Line Options</a> <ul class="dropdown"> <li><a href="https://lordcephei.github.io/docs/commandline/general/">General</a></li> <li><a href="https://lordcephei.github.io/docs/commandline/lm/">lm</a></li> <li><a href="https://lordcephei.github.io/docs/commandline/lmf/">lmf</a></li> </ul></li> <li class="has-dropdown"><a href="#">Physical Properties</a> <ul class="dropdown"> <li><a href="https://lordcephei.github.io/docs/properties/optics/">Optics</a></li> </ul></li> <li class="has-dropdown"><a href="#">Auxilliary tools</a> <ul class="dropdown"> <li><a href="https://lordcephei.github.io/docs/misc/plbnds/">The plbnds program</a></li> <li><a href="https://lordcephei.github.io/docs/misc/pldos/">The pldos program</a></li> <li><a href="https://lordcephei.github.io/docs/misc/fplot/">The fplot program</a></li> <li><a href="https://lordcephei.github.io/docs/misc/mccalcdoc/">The mc calculator</a></li> <li><a href="https://lordcephei.github.io/docs/misc/pfitdoc/">The pfit program</a></li> <li><a href="https://lordcephei.github.io/docs/misc/ccomp/">The ccomp processor</a></li> <li><a href="https://lordcephei.github.io/docs/misc/integerlists/">Integer list syntax</a></li> <li><a href="https://lordcephei.github.io/docs/misc/rotations/">Specifying rotations</a></li> </ul></li> </ul> </li> <li class="divider"></li> <li class="has-dropdown"> <a href="https://lordcephei.github.io">Tutorials</a> <ul class="dropdown"> <li><a href="https://lordcephei.github.io/tutorial/importing_input/">Importing Input files</a></li> <li class="has-dropdown"><a href="#">lmf</a> <ul class="dropdown"> <li><a href="https://lordcephei.github.io/tutorial/lmf/lmf_tutorial/">Basic Tutorial for Full-Potential lmf</a></li> <li><a href="https://lordcephei.github.io/tutorial/lmf/lmf_pbte_tutorial/">Self-consistent density in PbTe</a></li> <li><a href="https://lordcephei.github.io/tutorial/lmf/lmf_bi2te3_tutorial/">Properties of the lmf basis set</a></li> <li><a href="https://lordcephei.github.io/tutorial/lmf/fpnew/">Elastic constant in Al</a></li> <li><a href="https://lordcephei.github.io/tutorial/lmf/fpoptbas/">lmf Basis Set Optimisation</a></li> <li><a href="https://lordcephei.github.io/tutorial/lmf/pdos/">Generating a Partial DOS</a></li> <li><a href="https://lordcephei.github.io/tutorial/lmf/mulliken/">Performing Mulliken Analysis</a></li> <li><a href="https://lordcephei.github.io/tutorial/lmf/fermisurface/">Generating a Fermi Surface</a></li> <li><a href="https://lordcephei.github.io/tutorial/lmf/cls/">Performing Core Level Spectroscopy</a></li> <li><a href="https://lordcephei.github.io/tutorial/lmf/lmf_bandedge/">Extremal points and calculating effective mass</a></li> </ul></li> <li class="has-dropdown"><a href="#">ASA</a> <ul class="dropdown"> <li><a href="https://lordcephei.github.io/tutorial/asa/lm_pbte_tutorial/">LM Tutorial</a></li> </ul></li> <li class="has-dropdown"><a href="#">GW</a> <ul class="dropdown"> <li><a href="https://lordcephei.github.io/tutorial/gw/poscar_qsgw/">POSCAR to QSGW</a></li> <li><a href="https://lordcephei.github.io/tutorial/gw/qsgw/">QSGW Tutorial</a></li> </ul></li> <li class="has-dropdown"><a href="#">lmgf</a> <ul class="dropdown"> <li><a href="https://lordcephei.github.io/tutorial/lmgf/lmgf">LMGF Tutorial</a></li> </ul></li> <li class="has-dropdown"><a href="#">qsgw + dmft</a> <ul class="dropdown"> <li><a href="https://lordcephei.github.io/tutorial/qsgw_dmft/dmft0/">Introduction</a></li> <li><a href="https://lordcephei.github.io/tutorial/qsgw_dmft/dmft1/">Setting up the DMFT loop</a></li> <li><a href="https://lordcephei.github.io/tutorial/qsgw_dmft/dmft2/">Running the DMFT loop</a></li> <li><a href="https://lordcephei.github.io/tutorial/qsgw_dmft/dmft3/">Issues with input and parameters</a></li> <li><a href="https://lordcephei.github.io/tutorial/qsgw_dmft/dmft4/">Charge + static-magnetic contributions</a></li> <li><a href="https://lordcephei.github.io/tutorial/qsgw_dmft/dmft5/">The density loop</a></li> <li><a href="https://lordcephei.github.io/tutorial/qsgw_dmft/maxent1/">The maximum entropy method</a></li> <li><a href="https://lordcephei.github.io/tutorial/qsgw_dmft/dmft7/">The self-energy loop and the dynamical double-counting</a></li> </ul></li> <li class="has-dropdown"><a href="#">tbe</a> <ul class="dropdown"> <li><a href="https://lordcephei.github.io/tutorial/tbe/tbectrl">TBE Tutorial</a></li> </ul></li> <li class="has-dropdown"><a href="#">Physical Application</a> <ul class="dropdown"> <li><a href="https://lordcephei.github.io/tutorial/application/optics/">Optics using lm and lmf</a></li> <li><a href="https://lordcephei.github.io/tutorial/application/fstut/">Making a Fermi surface</a></li> </ul></li> <li class="has-dropdown"><a href="#">Miscellaneous</a> <ul class="dropdown"> <li><a href="https://lordcephei.github.io/tutorial/misc/extbfield/">Adding external Zeeman field to the potential</a></li> </ul></li> </ul> </li> <li class="divider"></li> <li class=""><a href="https://lordcephei.github.io/formatting/">Site Contribution</a></li> <li class="divider"></li> <li class=""><a href="https://lordcephei.github.io/developers/">Developers</a></li> <li class="divider"></li> </ul> <ul class="right"> <li class="divider"></li> <li><a href="https://lordcephei.github.io/search/">Search</a></li> <li class="divider"></li> <li><a href="https://lordcephei.github.io/contact/">Contact</a></li> <li class="divider"></li> <li><a href="https://lordcephei.github.io/about/">About</a></li> </ul> </section> </nav> </div><!-- /#navigation --> <div class="row t30"> <div class="medium-12 columns"> <article> <header> <h1>Third tutorial on QSGW+DMFT</h1> </header> <h1 id="issues-with-input-and-parameters">Issues with input and parameters</h1> <p>The aim of this tutorial is to give some indications on how to set the parameters of the DMFT calculation. We will give some examples of how the output should look like and, more importantly, how it shouldn’t.</p> <p>The basic input files for the CTQMC solver are the <em style="color: green">PARAMS</em> file, the <em style="color: green">Trans.dat</em>, the <em style="color: green">actqmc.cix</em> file, the <em style="color: green">Delta.inp</em>, the <em style="color: green">Eimp.inp</em> and finally the <em style="color: green">status</em> files. Moreover <strong style="color: blue">lmfdmft</strong> requires the <em style="color: green">indmfl</em> file. Descriptions of how to set the relevant parameters of the <em style="color: green">PARAMS</em>, and the <em style="color: green">indmfl</em> files are given below. You are not supposed to edit the other files, so we don’t give an explanation of them here.</p> <p>Among the output files, the most important ones are <em style="color: green">Sig.out</em> and <em style="color: green">histogram.dat</em>. We will refer to these two to judge the quality of our calculation.</p> <h3 id="the-indmfl-stylecolor-green-file">The <em style="color: green">indmfl</em> file</h3> <p><em style="color: red">Note:</em> It is planned to change the syntax of this file. It will soon become obsolete!</p> <p>This file is used by <strong style="color: blue">lmfdmft</strong> to define which atomic species and orbitals are mapped to the impurity. At the moment the file has a lot of redundant information, reminiscent of the formatting used in K. Haule’s DMFT package. Among all the information reported, you are interested only in a couple of variables at lines three and four.</p> <p><code> 1 # number of correlated atoms 1 1 0 # iatom, nL, locrot </code></p> <p>The first variables defines how many atoms are correlated. <em style="color: red">Note:</em> At the moment we are testing the code for values higher than 1. So far it hasn’t been possible to treat more than one atom.</p> <p>The first variable of the second line (<strong>iatom</strong>=1 in the example) is the index of the correlated atom in the basis chosen. In the example, Ni has only one atom so it’s index is 1. This value has to be consistent with the <em style="color: green">site.ext</em> file</p> <div onclick="elm = document.getElementById('StructLSCO'); if(elm.style.display == 'none') elm.style.display = 'block'; else elm.style.display = 'none';"><button type="button" class="button tiny radius">Example from a more complicated structure: La2CuO4- Click to show.</button></div> <p><div style="display:none;margin:0px 25px 0px 25px;"id="StructLSCO"></p> <p>If the site file is</p> <p><code> ATOM=La POS= 0.5000000 0.5000000 -0.4807290 ATOM=La POS= -0.5000000 -0.5000000 0.4807290 ATOM=Cu POS= 0.0000000 0.0000000 0.0000000 ATOM=O POS= 0.0000000 0.5000000 0.0000000 ATOM=O POS= 0.0000000 0.0000000 0.6320273 ATOM=O POS= -0.5000000 0.0000000 0.0000000 ATOM=O POS= 0.0000000 0.0000000 -0.6320273 </code></p> <p>then <strong>iatom=3</strong>.</p> <p></div></p> <p>All the other values of the file are either ignored or should not be changed.</p> <h3 id="the-params-stylecolor-green-file">The <em style="color: green">PARAMS</em> file</h3> <p>This file is one of the input files read by the CTQMC sovler.</p> <p>The variables contained in this file define the kind of calculation, allowing for a tuning of the Quantum Monte Carlo algorithm and details on how to treat the connection between the low-energy and the high-energy part of the self-energy. An example of the <em style="color: green">PARAMS</em> file is reported in a dropdown box of the <a href="https://lordcephei.github.io/tutorial/qsgw_dmft/dmft1">second tutorial</a>.</p> <div onclick="elm = document.getElementById('ParamsVariables'); if(elm.style.display == 'none') elm.style.display = 'block'; else elm.style.display = 'none';"><button type="button" class="button tiny radius">More details - Click to show.</button></div> <p><div style="display:none;margin:0px 25px 0px 25px;"id="ParamsVariables"></p> <h5 id="basic-parameters-u-j-nf0-and-beta"><em><strong>Basic parameters (U, J, nf0 and beta)</strong></em></h5> <p>Among the possible parameters are <strong>U</strong> and <strong>J</strong>, defining respectively the Hubbard in-site interaction and the Hund’s coupling constant in eV. <strong style="color: red">Warning:</strong> The same value of <strong>J</strong> has to be passed to <strong style="color: blue">atom_d.py</strong> as well.</p> <p>The variable <strong>nf0</strong> is the nominal occupancy of the correlated orbitals (e.g. <strong>nf0 9</strong> for <script type="math/tex">Cu</script>, <strong>nf0 8</strong> for Ni).</p> <p>Finally <strong style="color: blue">beta</strong> fixes the inverse temperature in eV<script type="math/tex">^{-1}</script>.</p> <p><strong style="color: red">Warning:</strong> Don’t forget to be consistent when you run <strong style="color: blue">atom_d.py</strong> (which wants <strong>J</strong> as an input) and <strong style="color: blue">lmfdmft</strong> (for which the flag <strong style="color: blue">--ldadc=</strong> has to be consistently defined as <strong>U<em>(nf0-0.5)-J</em>(nf0-1)*0.5</strong>).</p> <h5 id="setting-the-number-of-sampled-frequencies-nom-and-nomd"><em><strong>Setting the number of sampled frequencies (nom and nomD)</strong></em></h5> <p>The CTQMC solver gives a very accurate description of the self-energy in the low frequency range (for Matsubara’s frequencies close to 0), but it becomes too noisy at high frequencies.</p> <p>Let <script type="math/tex">N</script> be the total number of Matsubara’s frequencies. This number has been defined through <strong>NOMEGA</strong> in the <em style="color: green">ctrl</em> file during the <strong style="color: blue">lmfdmft</strong> run. Only the first <strong>nom</strong> frequencies are actually sampled by the CTQMC solver, while the other points are obtained analytically through the approximated Hubbard 1 solver (high-frequency tail).</p> <p>Excessively low values of <strong>nom</strong> will miss important features of the self-energy (e.g. a convex point in <script type="math/tex">\text{Im}[\Sigma(i\omega_n)]</script>), while too high values will give excessively noisy results. As a rule-of-thumb, a good initial guess is <strong>nom</strong> <script type="math/tex">\approx 3</script> <strong>beta</strong>, but this value has usually to be adjusted during the DMFT loop. Some examples of how the <script type="math/tex">\text{Im}[\Sigma(i\omega_n)]</script> looks like at different values of <strong>nom</strong> are given in the figures below.</p> <p><img src="https://lordcephei.github.io/assets/img/sig-nom.png" alt="Setting nom" /></p> <h5 id="setting-the-number-of-monte-carlo-steps-m-and-warmup"><em><strong>Setting the number of Monte Carlo steps (M and warmup)</strong></em></h5> <p>The higher is the number of Monte Carlo steps, the lower the noise in the QMC calculation. The parameter <strong>M</strong> defines the number of MC steps per core. Reliable calculations easily require at least 500 millions of steps in total. For instance, if you’re running on 10 cores, you can set <strong>M 50000000</strong>. You can judge the quality of your sampling by looking at the file <em style="color: green">histogram.dat</em>. The closer it looks to a Gaussian distribution, the better is the sampling.</p> <p><strong style="color: red">Warning:</strong> The variable <strong>M</strong> should be set keeping in mind that the higher it is, the longer the calculation. This is crucial when running on public clusters, where the elapsed time is computed per core. Too high values of <strong>M</strong> may consume your accounted hours very quickly! Moreover remember that you are supposed to broaden the output at each iteration, so you don’t actually need very clean <em symbol="color: green">Sig.out</em>.</p> <p>During the first <strong>warmup</strong> steps results are not accumulated, as it is normal on Monte Carlo procedures. This gives the ‘time’ to the algorithm to thermalise before the significative sampling. You can set <strong>warmup</strong>=<strong>M</strong>/1000.</p> <h5 id="setting-the-cutoff-expansion-order-nmax"><em><strong>Setting the cutoff expansion order (Nmax)</strong></em></h5> <p>The variable <strong>Nmax</strong> defines the highest order accounted for in the hybrdization expansion. If you have chosen an excessively low values of <strong>Nmax</strong>, the <em style="color: green">histogram.dat</em> file will be cut and <script type="math/tex">\text{Im}[\Sigma(i\omega_n)]</script> will look weird, as shown below.</p> <p>You should chose <strong>Nmax</strong> high enough for the Gaussian distribution of <em style="color: green">histogram.dat</em> to be comfortably displayed. However note that the higher <strong>Nmax</strong> the longer the calculation, so chose values just above the higher Guassian tail.</p> <p><img src="https://lordcephei.github.io/assets/img/histogram-cut.png" alt="Chosing Nmax" /></p> <p><img src="https://lordcephei.github.io/assets/img/sig-cut.png" alt="Weird Sigma" /></p> <p><strong style="color: red">Warning:</strong> the value of <strong>beta</strong> affects the number <strong>Nmax</strong>, so calculations on the same material at different temperatures will require different <strong>Nmax</strong>. At low <strong>beta</strong>, the Gaussian distribution is sharper and centered on lower order terms, as shown below. Therefore lower <strong>beta</strong> require lower <strong>Nmax</strong>.</p> <p><img src="https://lordcephei.github.io/assets/img/beta-histogram.png" alt="beta and Nmax" /></p> <h5 id="connecting-the-tail-sderiv-and-aom"><em><strong>Connecting the tail (sderiv and aom)</strong></em></h5> <p>The connection between the QMC part and the Hubbard 1 part is done with a straight line starting at frequency number <strong>nom</strong>+1 and running until it intersect the Hubbard 1 self-energy. You can see it by comparing the <em style="color: green">Sig.out</em> file with the <em style="color: green">s_hb1.dat</em> (Hubbrad 1 only).</p> <p>The two variables controlling the connection are <strong>sderiv</strong>, which is related to the angle of the straight line, and <strong>aom</strong> related to its starting point.</p> <p>The straight line connecting the low- and the high-frequncy region can easily give rise to unwanted kinks. To broaden <em style="color: green">Sig.out</em> is necessary to smooth these kinks out as well.</p> <h5 id="impurity-levels-ed-and-mu"><em><strong>Impurity levels (Ed and mu)</strong></em></h5> <p>The impurity levels reported at the fourth line of <em style="color: green">Eimp.inp</em> enters in the <em style="color: green">PARAMS</em> as the variable <strong>Ed</strong>. The variable <strong>mu</strong> is set as the first entry of the <strong>Ed</strong> with opposite sign.</p> <p><strong style="color: red">Warning:</strong> These two variables change at every iteration so you have to constantly update their value throughout the DMFT loop.</p> <p></div></p> <h3 id="phase-transition-boundaries">Phase transition boundaries</h3> <p>It may happen that, despite the high number of QMC steps, the <em style="color: green">histogram.dat</em> file displays a double peak distribution simiar to the sum of two Gaussians. This is the case when the material is close to a phase transition.</p> <div onclick="elm = document.getElementById('PhaseTrans'); if(elm.style.display == 'none') elm.style.display = 'block'; else elm.style.display = 'none';"><button type="button" class="button tiny radius">Example - Click to show.</button></div> <p><div style="display:none;margin:0px 25px 0px 25px;"id="PhaseTrans"></p> <p>In this case usually one or more channels of the self-energy are very noisy. One has to run for longer times, or use the status files to restart the calculation many times until only one peaks dominate and the histogram looks like a Gaussian. An example is given in the boxes below.</p> <p><img src="https://lordcephei.github.io/assets/img/transition-histo.png" alt="histogram close to transition" /></p> <p><img src="https://lordcephei.github.io/assets/img/transition-sigma.png" alt="sigma close to transition" /></p> <p></div></p> <h3 id="using-status-files">Using status files</h3> <p>During the calculation, each core generates a <em style="color: green">status</em> file. They contain some information about the sampling and should be used as restart files for other CTQMC calculations with similar parameters. They are read authomatically if they are in the folder where <strong style="color: blue">ctqmc</strong> is running.</p> <div onclick="elm = document.getElementById('StatusFiles'); if(elm.style.display == 'none') elm.style.display = 'block'; else elm.style.display = 'none';"><button type="button" class="button tiny radius">More details - Click to show.</button></div> <p><div style="display:none;margin:0px 25px 0px 25px;"id="StatusFiles"></p> <p>They can be used basically in two ways.</p> <ul> <li>If you are performing iteration N, you should copy the <em style="color: green">status</em> files from iteration N-1 to speed up the convergence of the calculation.</li> <li>If you realise that in one <strong style="color: blue">ctqmc</strong> run, you haven’t achieved a good sampling (e.g. <strong>M</strong> too low, or close to phase transition), than you can run again the calculation without losing the effort already done. When restarted, the <strong style="color: blue">ctqmc</strong> solver will automatically read the <em style="color: green">status</em> files and retrive their information.</li> </ul> <p><strong style="color: red">Warning:</strong> Since there is one <em style="color: green">status</em> file per core, you must pay attention to run on as many cores as <em style="color: green">status</em> files you have. It should be safe (but not recommended) to run with a smaller number of cores, while running on more cores than <em style="color: green">status</em> files gives wrong results.</p> <p></div></p> </article> </div><!-- /.medium-12.columns --> </div><!-- /.row --> <div id="up-to-top" class="row"> <div class="small-12 columns" style="text-align: right;"> <a class="iconfont" href="#top-of-page">&#xf108;</a> </div><!-- /.small-12.columns --> </div><!-- /.row --> <footer id="footer-content" class="bg-grau"> <div id="footer"> <div class="row"> <div class="medium-6 large-5 columns"> <h5 class="shadow-black">About This Site</h5> <p class="shadow-black"> Questaal is a suite of programs for LMTO and GW simulations. <a href="https://lordcephei.github.io/info/">More ›</a> </p> </div><!-- /.large-6.columns --> <div class="small-6 medium-3 large-3 large-offset-1 columns"> <h5 class="shadow-black">Services</h5> <ul class="no-bullet shadow-black"> <li > <a href="https://lordcephei.github.io" title=""></a> </li> <li class="services-contact" > <a href="https://lordcephei.github.io/contact/" title="Contact">Contact</a> </li> <li class="list" > <a href="https://lordcephei.github.io/developers/" title="Contact the developers">Developers</a> </li> </ul> </div><!-- /.large-4.columns --> <div class="small-6 medium-3 large-3 columns"> <h5 class="shadow-black">Related websites</h5> <ul class="no-bullet shadow-black"> <li > <a href="https://lordcephei.github.io" title=""></a> </li> <li class="network-entypo" > <a href="http://lmsuite.org" target="_blank" title="">Original LM Suite</a> </li> </ul> </div><!-- /.large-3.columns --> </div><!-- /.row --> </div><!-- /#footer --> </footer> <script src="https://lordcephei.github.io/assets/js/javascript.min.js"></script> <script> (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){ (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o), m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m) })(window,document,'script','//www.google-analytics.com/analytics.js','ga'); ga('create', 'UA-60112281-1', 'auto'); ga('set', 'anonymizeIp', true); ga('send', 'pageview'); </script> </body> </html>
