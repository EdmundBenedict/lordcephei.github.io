<!doctype html> <html class="no-js" lang="en"> <head> <meta charset="utf-8" /> <meta name="viewport" content="width=device-width, initial-scale=1.0" /> <title>Building Input files</title> <link rel="stylesheet" href="https://lordcephei.github.io/assets/css/styles_feeling_responsive.css"> <script src="https://lordcephei.github.io/assets/js/modernizr.min.js"></script> <script src="https://ajax.googleapis.com/ajax/libs/webfont/1.5.18/webfont.js"></script> <script> WebFont.load({ google: { families: [ 'Lato:400,700,400italic:latin', 'Volkhov::latin' ] } }); </script> <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script> <noscript> <link href='http://fonts.googleapis.com/css?family=Lato:400,700,400italic|Volkhov' rel='stylesheet' type='text/css'> </noscript> <meta name="google-site-verification" content="KBbEPlf44q4dfL6SBHqymelMqXBSuZHSXIo-ZfkQLbE" /> <meta name="msvalidate.01" content="0FB4C028ABCF07C908C54386ABD2D97F" /> <meta name="description" content=""/> <link rel="author" href="https://plus.google.com/u/0/104386739373934968982"/> <link rel="icon" sizes="32x32" href="https://lordcephei.github.io/assets/img/favicon-32x32.png"> <link rel="icon" sizes="192x192" href="https://lordcephei.github.io/assets/img/touch-icon-192x192.png"> <link rel="apple-touch-icon-precomposed" sizes="180x180" href="https://lordcephei.github.io/assets/img/apple-touch-icon-180x180-precomposed.png"> <link rel="apple-touch-icon-precomposed" sizes="152x152" href="https://lordcephei.github.io/assets/img/apple-touch-icon-152x152-precomposed.png"> <link rel="apple-touch-icon-precomposed" sizes="144x144" href="https://lordcephei.github.io/assets/img/apple-touch-icon-144x144-precomposed.png"> <link rel="apple-touch-icon-precomposed" sizes="120x120" href="https://lordcephei.github.io/assets/img/apple-touch-icon-120x120-precomposed.png"> <link rel="apple-touch-icon-precomposed" sizes="114x114" href="https://lordcephei.github.io/assets/img/apple-touch-icon-114x114-precomposed.png"> <link rel="apple-touch-icon-precomposed" sizes="76x76" href="https://lordcephei.github.io/assets/img/apple-touch-icon-76x76-precomposed.png"> <link rel="apple-touch-icon-precomposed" sizes="72x72" href="https://lordcephei.github.io/assets/img/apple-touch-icon-72x72-precomposed.png"> <link rel="apple-touch-icon-precomposed" href="https://lordcephei.github.io/assets/img/apple-touch-icon-precomposed.png"> <meta name="msapplication-TileImage" content="https://lordcephei.github.io/assets/img/msapplication_tileimage.png"/> <meta name="msapplication-TileColor" content="#fabb00"> <!-- Facebook Optimization --> <meta property="og:locale" content="en_EN" /> <meta property="og:type" content="website" /> <meta property="og:title" content="Building Input files" /> <meta property="og:description" content="Questaal is a suite of programs for LMTO and GW simulations."/> <meta property="og:url" content="https://lordcephei.github.io//tutorial/lmf/buildingfpinput/" /> <meta property="og:site_name" content="Questaal" /> <!-- Search Engine Optimization --> <link type="text/plain" rel="author" href="https://lordcephei.github.io/humans.txt" /> <script type="text/x-mathjax-config"> MathJax.Hub.Config({ extensions: ["tex2jax.js", "AMSmath.js"], jax: ["input/TeX", "output/HTML-CSS"], tex2jax: { inlineMath: [ ['$','$'] ], displayMath: [ ['$$','$$'] ], processEscapes: true }, }); </script> <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"> </script> <style type="text/css"> red { color:purple; /*This changes the color of your text */ font-size:24pt; /*This changes the font size of your text */ } </style> </head> <body id="top-of-page" class="page-fullwidth"> <div id="navigation" class="sticky"> <nav class="top-bar" data-topbar> <ul class="title-area"> <li class="name"> <h1 class="hide-for-large-up"> <a href="https://lordcephei.github.io"> <img src="https://lordcephei.github.io/images/logo.png" style="width:125px;height:40px"></a></h1> </li> <!-- Remove the class "menu-icon" to get rid of menu icon. Take out "Menu" to just have icon alone --> <li class="toggle-topbar menu-icon"><a href="#"><span>Navigation</span></a></li> </ul> <section class="top-bar-section"> <ul class="left"> <li class ="show-for-large-up"><a href="https://lordcephei.github.io/"> <img src="https://lordcephei.github.io/images/logo.png" style="width:125px;height:40px"></a></li> <li class="divider"></li> <li class="has-dropdown"> <a href="https://lordcephei.github.io">Functionality</a> <ul class="dropdown"> <li><a href="https://lordcephei.github.io/functionality/application/">By Physical Application</a></li> <li><a href="https://lordcephei.github.io/functionality/program/">By Suite Program</a></li> </ul> </li> <li class="divider"></li> <li class="has-dropdown"> <a href="https://lordcephei.github.io">Documentation</a> <ul class="dropdown"> <li><a href="https://lordcephei.github.io/docs/package_overview/">Package Overview</a></li> <li><a href="https://lordcephei.github.io/docs/install/">Installation</a></li> <li class="has-dropdown"><a href="#">Description by code</a> <ul class="dropdown"> <li><a href="https://lordcephei.github.io/docs/code/fpoverview/">Full Potential Overview</a></li> <li><a href="https://lordcephei.github.io/docs/code/gwoverview/">GW Overview</a></li> <li><a href="https://lordcephei.github.io/docs/code/dmftoverview/">Dynamical Mean Field Theory</a></li> <li><a href="https://lordcephei.github.io/docs/code/asaoverview/">ASA Overview</a></li> <li><a href="https://lordcephei.github.io/docs/code/lmgf/">ASA Green's function</a></li> <li><a href="https://lordcephei.github.io/docs/code/smhankels/">Smooth Hankel Functions</a></li> <li><a href="https://lordcephei.github.io/docs/code/jpos/">Jigsaw Puzzle Orbitals</a></li> <li><a href="https://lordcephei.github.io/docs/code/cpadoc/">CPA Enhancement of the Green's function package</a></li> <li><a href="https://lordcephei.github.io/docs/code/spectral-functions/">Spectral function calculations with lmgf</a></li> </ul></li> <li class="has-dropdown"><a href="#">Input Files</a> <ul class="dropdown"> <li><a href="https://lordcephei.github.io/docs/input/inputfile/">The Input File</a></li> <li><a href="https://lordcephei.github.io/docs/input/preprocessor/">File Preprocessor</a></li> <li><a href="https://lordcephei.github.io/docs/input/sitefile/">The Site file</a></li> <li><a href="https://lordcephei.github.io/docs/input/symfile/">Symmetry Line Files</a></li> </ul></li> <li class="has-dropdown"><a href="#">Annotated Output Files</a> <ul class="dropdown"> <li><a href="https://lordcephei.github.io/docs/outputs/lmf_output/">lmf standard output</a></li> </ul></li> <li class="has-dropdown"><a href="#">Command Line Options</a> <ul class="dropdown"> <li><a href="https://lordcephei.github.io/docs/commandline/general/">General</a></li> <li><a href="https://lordcephei.github.io/docs/commandline/lmf/">lmf</a></li> <li><a href="https://lordcephei.github.io/docs/commandline/lm/">lm</a></li> </ul></li> <li class="has-dropdown"><a href="#">Physical Properties</a> <ul class="dropdown"> <li><a href="https://lordcephei.github.io/docs/properties/optics/">Optics</a></li> </ul></li> <li class="has-dropdown"><a href="#">Auxilliary tools</a> <ul class="dropdown"> <li><a href="https://lordcephei.github.io/docs/misc/plbnds/">The plbnds tool</a></li> <li><a href="https://lordcephei.github.io/docs/misc/pldos/">The pldos tool</a></li> <li><a href="https://lordcephei.github.io/docs/misc/fplot/">The fplot tool</a></li> <li><a href="https://lordcephei.github.io/docs/misc/mccalcdoc/">The mc calculator</a></li> <li><a href="https://lordcephei.github.io/docs/misc/pfitdoc/">The pfit tool</a></li> <li><a href="https://lordcephei.github.io/docs/misc/ccomp/">The ccomp processor</a></li> <li><a href="https://lordcephei.github.io/docs/misc/integerlists/">Integer list syntax</a></li> <li><a href="https://lordcephei.github.io/docs/misc/rotations/">Specifying rotations</a></li> </ul></li> </ul> </li> <li class="divider"></li> <li class="has-dropdown"> <a href="https://lordcephei.github.io">Tutorials</a> <ul class="dropdown"> <li><a href="https://lordcephei.github.io/tutorial/importing_input/">Importing Input files</a></li> <li class="has-dropdown"><a href="#">lmf</a> <ul class="dropdown"> <li><a href="https://lordcephei.github.io/tutorial/lmf/lmf_tutorial/">Basic Tutorial for Full-Potential lmf</a></li> <li><a href="https://lordcephei.github.io/tutorial/lmf/lmf_pbte_tutorial/">Self-consistent density in PbTe</a></li> <li><a href="https://lordcephei.github.io/tutorial/lmf/lmf_bi2te3_tutorial/">Properties of the lmf basis set</a></li> <li><a href="https://lordcephei.github.io/tutorial/lmf/fpnew/">Elastic constant in Al</a></li> <li><a href="https://lordcephei.github.io/tutorial/lmf/fpoptbas/">lmf Basis Set Optimisation</a></li> <li><a href="https://lordcephei.github.io/tutorial/lmf/pdos/">Generating a Partial DOS</a></li> <li><a href="https://lordcephei.github.io/tutorial/lmf/mulliken/">Performing Mulliken Analysis</a></li> <li><a href="https://lordcephei.github.io/tutorial/lmf/fermisurface/">Generating a Fermi Surface</a></li> <li><a href="https://lordcephei.github.io/tutorial/lmf/cls/">Performing Core Level Spectroscopy</a></li> <li><a href="https://lordcephei.github.io/tutorial/lmf/lmf_bandedge/">Extremal points and calculating effective mass</a></li> </ul></li> <li class="has-dropdown"><a href="#">ASA</a> <ul class="dropdown"> <li><a href="https://lordcephei.github.io/tutorial/asa/lm_pbte_tutorial/">LM Tutorial</a></li> </ul></li> <li class="has-dropdown"><a href="#">GW</a> <ul class="dropdown"> <li><a href="https://lordcephei.github.io/tutorial/gw/poscar_qsgw/">POSCAR to QSGW</a></li> <li><a href="https://lordcephei.github.io/tutorial/gw/qsgw_si/">Basic QSGW Tutorial: Si</a></li> <li><a href="https://lordcephei.github.io/tutorial/gw/qsgw_fe/">QSGW Tutorial for Fe</a></li> <li><a href="https://lordcephei.github.io/tutorial/gw/gw_self_energy/">The GW Self-energy and Spectral Function</a></li> </ul></li> <li class="has-dropdown"><a href="#">lmgf</a> <ul class="dropdown"> <li><a href="https://lordcephei.github.io/tutorial/lmgf/lmgf">LMGF Tutorial</a></li> </ul></li> <li class="has-dropdown"><a href="#">qsgw + dmft</a> <ul class="dropdown"> <li><a href="https://lordcephei.github.io/tutorial/qsgw_dmft/dmft0/">Introduction</a></li> <li><a href="https://lordcephei.github.io/tutorial/qsgw_dmft/dmft1/">Setting up the DMFT loop</a></li> <li><a href="https://lordcephei.github.io/tutorial/qsgw_dmft/dmft2/">Running the DMFT loop</a></li> <li><a href="https://lordcephei.github.io/tutorial/qsgw_dmft/dmft3/">Issues with input and parameters</a></li> <li><a href="https://lordcephei.github.io/tutorial/qsgw_dmft/dmft4/">Charge + static-magnetic contributions</a></li> <li><a href="https://lordcephei.github.io/tutorial/qsgw_dmft/dmft5/">The density loop</a></li> <li><a href="https://lordcephei.github.io/tutorial/qsgw_dmft/maxent1/">The maximum entropy method</a></li> <li><a href="https://lordcephei.github.io/tutorial/qsgw_dmft/dmft7/">The self-energy loop and the dynamical double-counting</a></li> </ul></li> <li class="has-dropdown"><a href="#">tbe</a> <ul class="dropdown"> <li><a href="https://lordcephei.github.io/tutorial/tbe/tbectrl">TBE Tutorial</a></li> </ul></li> <li class="has-dropdown"><a href="#">Physical Application</a> <ul class="dropdown"> <li><a href="https://lordcephei.github.io/tutorial/application/optics/">Optics using lm and lmf</a></li> <li><a href="https://lordcephei.github.io/tutorial/application/fstut/">Making a Fermi surface</a></li> </ul></li> <li class="has-dropdown"><a href="#">Miscellaneous</a> <ul class="dropdown"> <li><a href="https://lordcephei.github.io/tutorial/misc/extbfield/">Adding external Zeeman field to the potential</a></li> </ul></li> </ul> </li> <li class="divider"></li> <li class=""><a href="https://lordcephei.github.io/formatting/">Site Contribution</a></li> <li class="divider"></li> <li class=""><a href="https://lordcephei.github.io/developers/">Developers</a></li> <li class="divider"></li> </ul> <ul class="right"> <li class="divider"></li> <li><a href="https://lordcephei.github.io/search/">Search</a></li> <li class="divider"></li> <li><a href="https://lordcephei.github.io/contact/">Contact</a></li> <li class="divider"></li> <li><a href="https://lordcephei.github.io/about/">About</a></li> </ul> </section> </nav> </div><!-- /#navigation --> <div class="row t30"> <div class="medium-12 columns"> <article> <header> <p class="subheadline"></p> <h1>Building Input files</h1> </header> <p class="teaser"> </p> <h3 id="purpose"><em>Purpose</em></h3> <p>This tutorial shows how to construct input files, receiving structural information from various sources.</p> <hr /> <h3 id="command-summary"><em>Command summary</em></h3> <p>The tutorial starts under the heading “Tutorial”; you can see a synopsis of the commands by clicking on the box below.</p> <div onclick="elm = document.getElementById('1'); if(elm.style.display == 'none') elm.style.display = 'block'; else elm.style.display = 'none';"><button type="button" class="button tiny radius">Commands - Click to show</button></div> <p><div style="display:none;margin:0px 25px 0px 25px;"id="1"></p><pre><code>$ blm init.pbte
$ cp actrl.pbte ctrl.pbte
$ cp testing/cif2cell.batio3 .
$ cif2init cif2cell.batio3        # creates an init file from 
$ poscar2init                     # creates an init file from a VASP POSCAR file
$ poscar2site                     # creates a  site file from a VASP POSCAR file
$ testing/test.blm 2
$ poscar2init &gt; init.zn3as2
$ blm zn3as2 --fixpos:tol=1e-6 &gt; out.zn3as2
$ testing/test.blm 3
    $ blm bi2te3
$ cp actrl.bi2te3 ctrl.bi2te3
$ lmchk bi2te3
$ cp actrl.bi2te3 ctrl.bi2te3
$ lmfa bi2te3
        $ cp basp0.bi2te3 basp.bi2te3
        $ lmfa bi2te3
$ blm --gw bi2te3

... to be finished
</code></pre><p></div></p> <hr /> <h3 class="no_toc" id="table-of-contents"><em>Table of Contents</em></h3> <ul id="markdown-toc"> <li><a href="#purpose" id="markdown-toc-purpose"><em>Purpose</em></a></li> <li><a href="#command-summary" id="markdown-toc-command-summary"><em>Command summary</em></a></li> <li><a href="#preliminaries" id="markdown-toc-preliminaries"><em>Preliminaries</em></a></li> <li><a href="#tutorial" id="markdown-toc-tutorial"><em>Tutorial</em></a> <ul> <li><a href="#importing-crystal-structure" id="markdown-toc-importing-crystal-structure">1. <em>Importing Crystal Structure</em></a> <ul> <li><a href="#supplying-crystal-structure-by-hand" id="markdown-toc-supplying-crystal-structure-by-hand">1.1 <em>Supplying Crystal Structure by hand</em></a></li> <li><a href="#importing-a-cif-file" id="markdown-toc-importing-a-cif-file">1.2 <em>Importing a CIF file</em></a></li> <li><a href="#importing-a-poscar-file" id="markdown-toc-importing-a-poscar-file">1.3 <em>Importing a POSCAR file</em></a></li> </ul> </li> <li><a href="#running-blm" id="markdown-toc-running-blm">2. <em>Running blm</em></a> <ul> <li><a href="#init-stylecolor-green-file" id="markdown-toc-init-stylecolor-green-file">2.1 <em style="color: green">init</em> file</a></li> <li><a href="#ctrl-stylecolor-green-file" id="markdown-toc-ctrl-stylecolor-green-file">2.2 <em style="color: green">ctrl</em> file</a></li> </ul> </li> <li><a href="#checking-sphere-overlaps" id="markdown-toc-checking-sphere-overlaps">3. <em>Checking sphere overlaps</em></a></li> <li><a href="#making-the-atomic-density" id="markdown-toc-making-the-atomic-density">4. <em>Making the atomic density</em></a> <ul> <li><a href="#automatically-finding-deep-states-to-include-as-valence-electrons" id="markdown-toc-automatically-finding-deep-states-to-include-as-valence-electrons">3.1 <em>Automatically finding deep states to include as valence electrons</em> </a></li> <li><a href="#automatically-finding-linearization-energies" id="markdown-toc-automatically-finding-linearization-energies">3.2 <em>Automatically finding linearization energies</em></a></li> <li><a href="#automatically-finding-envelope-function-parameters" id="markdown-toc-automatically-finding-envelope-function-parameters">3.3 <em>Automatically finding envelope function parameters</em></a></li> </ul> </li> <li><a href="#input-files-for-gw" id="markdown-toc-input-files-for-gw"><em>Input files for GW</em></a></li> </ul> </li> </ul> <hr /> <h3 id="preliminaries"><em>Preliminaries</em></h3> <p>The materials system in this tutorial is Bi2Te3; you will build an input file <em style="color: green">ctrl.bi2te3</em> by one of several possible paths.</p> <p>The input file structure is briefly described in <a href="https://lordcephei.github.io/lmf_tutorial/">this lmf tutorial for Pbte</a>, which you may wish to go through first.</p> <p>This tutorial assumes you have <strong style="color: blue">blm</strong> installed. Additionally, <strong style="color: blue">poscar2init</strong>, <strong style="color: blue">lmchk</strong>, <strong style="color: blue">lmscell</strong>, <strong style="color: blue">poscar2site</strong> and <strong style="color: blue">cif2site</strong> may be required for some sections.</p> <hr /> <h3 id="tutorial"><em>Tutorial</em></h3> <p><strong style="color: blue">blm</strong> is an input file generator. You can use it autogenerate an input file (<em style="color: green">ctrl.ext</em>); or you can build it yourself. <strong style="color: blue">blm</strong> usually writes the structural data to a site file (<em style="color: green">site.bi2te3</em>). Site files are a primary way structural data is kept in a form the Questaal programs can read.</p> <p>In either case, you need structural information to get started. In default mode <strong style="color: blue">blm</strong> reads structural data from a file <em style="color: green">init.ext</em>, and writes a ctrl file and a site file. It can read structural data from a site file.</p> <h4 id="importing-crystal-structure">1. <em>Importing Crystal Structure</em></h4> <h5 id="supplying-crystal-structure-by-hand">1.1 <em>Supplying Crystal Structure by hand</em></h5> <p>Typically you have structural information about your material, e.g. <em>space group number</em> (e.g. number 99 or name P4_mm_) and <em>lattice parameters</em> related to the space group (<em>a</em> and <em>b</em> in the P4_mm_ case). This page will use Bi2Te3 as an example, which belongs to space group R3m with lattice constants <em>a</em> and <em>c</em>. (See Wykoff, <a href="https://archive.org/stream/structureofcryst030914mbp#page/n107/mode/2up/search/Bi"><em>Structure of Crystals</em></a>, to obtain this information.) You also need information about the chemical species and positions of the atoms in the basis. The minimum information for Bi2Te3 is:</p><pre><code>ATOM=Te X=0     0    0
ATOM=Te X=0     0   .788
ATOM=Bi X=0     0   .4
</code></pre><p>There are five atoms in the basis; the positions of the remaining two follow from the symmetry of the space group (R3m).</p> <p>Symbols Te and Bi tell <strong style="color: blue">blm</strong> that the atoms are Tellurium and Bismuth, with atomic numbers 52 and 83. You can use any symbol for the species name, but if you don’t use a standard one you must specify the atomic number, e.g. write ATOM=A Z=52.</p> <p>The three coordinates e.g. (0 0 0.788) correspond to fractions of the first, second, and third lattice vectors. This is a standard way of representing site coordinates. Alternatively, you can specify Cartesian coordinates; use POS= in place of X=. In the Bi2Te3 case, substituting the above 3 lines with</p><pre><code>ATOM=Te POS= 0.0000000   0.0000000   0.0000000
ATOM=Te POS=-0.5000000  -0.8660254   1.4616199
ATOM=Bi POS= 0.5000000   0.8660254   0.8030878
</code></pre><p>creates the same input template.</p> <h5 id="importing-a-cif-file">1.2 <em>Importing a CIF file</em></h5> <p><a href="http://en.wikipedia.org/wiki/Crystallographic_Information_File">Crystallographic Information Files</a> (CIF files for short) is a standard text file format for representing crystallographic information, whose standards are set by the International Union of Crystallography. If you have a CIF file, you can automatically make <em>either</em> an <em style="color: green">init.ext</em> file, <em>or</em> a <em style="color: green">site.ext</em> file. The tools in this package do not read CIF files directly, but parse the output of the <strong style="color: blue">cif2cell</strong> program (version 1.1.0). <strong style="color: blue">cif2cell</strong> is a very versatile tool, <a href="http://sourceforge.net/projects/cif2cell">freely available on the web</a>.</p> <p>To import data from a CIF file you need <strong style="color: blue">cif2cell</strong> installed and <strong style="color: blue">cif2init</strong> in your path (<strong style="color: blue">cif2init</strong> should be automatically compiled with this package). The steps are:</p> <p>1. Run <strong>cif2cell</strong> (without any special switches) and capture the output in a file, e.g. cif2cell.out . 2. Run <strong>cif2init</strong> to generate an init file (called simply ` init ‘). 3. Rename init to init.<em>ext</em> and use the <a href="#run">blm</a> tool.</p> <p><em>Example</em>  : create an init file for the orthorhombic form of BaTiO3:</p><pre><code>$ cp testing/cif2cell.batio3 .
$ cif2init cif2cell.batio3
</code></pre><p><em style="color: red">Note:</em> <em style="color: green">cif2cell.batio3</em> was obtained by running <strong style="color: blue">cif2cell</strong> on the CIF file supplied with the cif2cell-1.1.0 distribution: <em style="color: green">cif2cell-1.1.0/cifs/BaTiO3_orthorhombic.cif</em>.</p> <p>The following init file should be generated:</p><pre><code>HEADER Ba (Ti O3) (Barium titanate - nanocrystalline)
LATTICE
#       SPCGRP=38
#       A=4.0094  B=5.6214  C=5.6386   ALPHA=90  BETA=90  GAMMA=90
% const a=4.0094
        ALAT={a}  UNITS=A
        PLAT=    1.0000000    0.0000000    0.0000000
                 0.0000000    0.7010276   -0.7031725
                 0.0000000    0.7010276    0.7031725
SITE
     ATOM=Ba       X=     0.0000000    0.0000000    0.0000000
     ATOM=Ti       X=     0.5000000    0.4900000    0.5100000
     ATOM=O        X=     0.5000000    0.0100000    0.9900000
     ATOM=O        X=     0.5000000    0.0129000    0.4921000
     ATOM=O        X=     0.5000000    0.5079000    0.9871000
</code></pre><p>If you prefer to make your own input file but import structure information via a site file, use <strong style="color: blue">cif2site</strong> in place of <strong style="color: blue">cif2init</strong>. To summarize:</p> <p>cif2init creates an init file from the output of <strong>cif2cell</strong> cif2site creates a site file from the output of <strong>cif2cell</strong></p> <h5 id="importing-a-poscar-file">1.3 <em>Importing a POSCAR file</em></h5> <p><a href="http://www.vasp.at">VASP</a> is a very popular electronic structure program which can store structural information in the POSCAR files. If you want to import data from such a file in a form suitable for this program suite, use one of the following commands:</p><pre><code>$ poscar2init     creates an init file from a VASP POSCAR file
$ poscar2site     creates a  site file from a VASP POSCAR file
</code></pre><p>If you already have an input file, use <strong style="color: blue">poscar2site</strong> to translate structural data from a POSCAR file into <em style="color: green">site.ext</em>. If you want an input file instead, use <strong style="color: blue">poscar2init</strong>; then run <strong style="color: blue">blm</strong>.</p> <p><em style="color: red">Example:</em> create an input file for Zn3As2 from a POSCAR file:</p><pre><code>$ testing/test.blm 2
</code></pre><p>The script has the following steps</p><pre><code>$ poscar2init &gt; init.zn3as2
$ blm zn3as2 --fixpos:tol=1e-6 &gt; out.zn3as2
</code></pre><p>which creates an input file template (<em style="color: green">actrl.zn3as2</em>) from a POSCAR file in two steps.</p> <p><em style="color: red">Example:</em> create a site file for the Kesterite Cu2ZnSnS4:</p><pre><code>$ testing/test.blm 3
</code></pre><p>It creates file <em style="color: green">site</em> from file <em style="color: green">POSCAR</em>.</p> <h4 id="running-blm">2. <em>Running blm</em></h4> <p><strong style="color: blue">blm</strong> will create a template file for the main input file of the Questaal package, <em style="color: green">ctrl.ext</em>. ext_{: style=”color: green”} is a name you select; we will use <em style="color: green">bi2te3</em> corresponding to the material. <strong style="color: blue">blm</strong> actually generates <em style="color: green">actrl.ext</em>, prepending the <em>a</em> so as not to overwrite any file named <em style="color: green">ctrl.ext</em>.</p> <p>Almost all programs in this package require the input file <em style="color: green">ctrl.ext</em>. You can do an entire calculation starting only with this file; but often you supply other files. For example, symmetry line points for plotting energy bands are read from a separate file (e.g. <em style="color: green">syml.bi2te3</em>). Structural data is typically split off into a separate file (<em style="color: green">site.bi2te3</em> in this tutorial); <strong style="color: blue">blm</strong> will create a site file by default.</p> <h5 id="init-stylecolor-green-file">2.1 <em style="color: green">init</em> file</h5> <p>Create a file named <em style="color: green">init.bi2te3</em> containing the following lines:</p><pre><code>    # from http://cst-www.nrl.navy.mil/lattice/struk/c33.html
    # Bi2Te3 from Wyckoff
    % const a=4.3835 c=30.487 uTe=0.788 uBi=0.40
    LATTICE
       SPCGRP=R-3M
       UNITS=A
       A={a} C={c}
    SITE
        ATOM=Te X=0     0    0
        ATOM=Te X=0     0   {uTe}
        ATOM=Bi X=0     0   {uBi}
</code></pre><p><strong style="color: red">Note</strong></p> <ul> <li>Lines which begin with ‘#’ are comment lines and are ignored. (More generally, text following a `#’ in any line is ignored).</li> <li>Lines beginning with ‘%’ are directives to the preprocessor. Directives can perform various functions similar to a normal programming language, such as assigning variables, evaluating expressions, conditionally readings some lines, and repeated loops over sections of input.</li> <li>Quantities in brackets <strong>{…}</strong> are algebraic expressions parsed by the preprocessor, evaluated and the result the contents of brackets replaced by the result.</li> </ul> <p><em>init</em> files and <em>ctrl</em> files are styled the same way: data is divided into <em>categories</em> (<strong>LATTICE</strong> and <strong>SITE</strong>) — tags which begin in the first column, and <em>tokens</em> (e.g. <strong>SPCGRP=</strong>, <strong>A=</strong>, <strong>X=</strong>) — tags belonging to a particular category.</p> <p><a href="https://lordcephei.github.io/docs/inputfile">This tutorial</a> explains how the input files <em style="color: green">init.ext</em> and <em style="color: green">ctrl.ext</em> are structured, and the tags the various programs can read.</p> <h5 id="ctrl-stylecolor-green-file">2.2 <em style="color: green">ctrl</em> file</h5> <p>To create a template input file invoke <strong style="color: blue">blm</strong>:</p><pre><code>$ blm bi2te3
</code></pre><p>Now take a look at the standard output. <strong style="color: blue">blm</strong> finds the lattice vectors from the crystal symmetry (if you had supplied the lattice vectors, it would have found the symmetry). In this case, the symmetry is given; the corresponding point group has 12 symmetry operations, and two extra atoms had to be added to make the basis compatible with the group. The output snippet below indicates what <strong style="color: blue">blm</strong> found.</p> <div onclick="elm = document.getElementById('bz'); if(elm.style.display == 'none') elm.style.display = 'block'; else elm.style.display = 'none';"><button type="button" class="button tiny radius">Click to show basis enlargement</button></div> <p><div style="display:none;margin:0px 25px 0px 25px;"id="bz"></p><pre><code> SGROUP: 12 symmetry operations from 3 generators
 ADDBAS: The basis was enlarged from 3 to 5 sites
         The additional sites are: 

        ATOM=Te       POS=   0.0000000   0.0000000   2.5538193
        ATOM=Bi       POS=   0.0000000   0.0000000  -4.8185270
</code></pre><p></div></p> <p><strong style="color: blue">blm</strong> automatically determined <a href="FPsamples/out.bi2te3.blm#rmt">augmentation sphere radii</a>, which it accomplishes by attempting to find spheres with equal potentials on each sphere surfaces (as well as it can). If you already have an input file, you can run <strong style="color: blue">lmchk</strong> with <em>–getwsr</em> to determine radii for you (it uses the same algorithm as <strong style="color: blue">blm</strong>). Particularly in polar compounds, this algorithm probably does a better job than you can do by hand, and it is recommended that you use the radii it finds, or some scaled version of them.</p><pre><code>**blm**{: style="color: blue"} creates the file _actrl.bi2te3_{: style="color: green"} with these contents:

    # Autogenerated from init.bi2te3
    VERS    LM:7 FP:7
    IO      SHOW=f HELP=f WKP=F IACTIV=f VERBOS=31
    % const pwmode=0 pwemax=3 # Use pwmode=1 or 11 to add APWs
    HAM     AUTOBAS[PNU=1 LOC=1 LMTO=4 MTO=4 GW=0]  GMAX=  # set GMAX by hand
    #       AUTOBAS[PNU=1 LOC=1 LMTO=3 MTO=3 GW=0]  GMAX=  # LMTO=3 for minimal basis
            PWMODE={pwmode} PWEMIN=0 PWEMAX={pwemax} OVEPS=0
    %const nsp=1 so=0 elind=-.7
            NSPIN={nsp} SO={so} FORCES={so==0} ELIND={elind}
    %const lxcf=2 lxcf2=-1 # PBE functional: lxcf=101 lxcf2=130
    %ifdef lxcf &amp; lxcf2&gt;0
            XCFUN=0,{lxcf},{lxcf2}
    %else
            XCFUN={lxcf}
    %endif
    % const nit=1
    ITER    MIX=B2,b=.3  NIT={nit}  CONVC=1e-5
    % const met=5 nk=0
    BZ      NKABC={nk}  METAL={met}  # NKABC requires 1 to 3 positive numbers
    #SYMGRP i r3z my
    % const a=4.782549
    STRUC
      NSPEC=2  NBAS=5  NL=5
      ALAT={a}
      PLAT= 1  0  4.0154392  -0.5  0.8660254  4.0154392  -0.5  -0.8660254  4.0154392
    SPEC
      ATOM=Te         Z= 52  R= 2.870279  LMX=3  LMXA=3
      ATOM=Bi         Z= 83  R= 2.856141  LMX=3  LMXA=4
    SITE
      ATOM=Te         POS=  0.0000000   0.0000000   0.0000000
      ATOM=Te         POS= -0.5000000  -0.8660254   1.4616199
      ATOM=Te         POS=  0.5000000   0.8660254  -1.4616199
      ATOM=Bi         POS=  0.5000000   0.8660254   0.8030878
      ATOM=Bi         POS= -0.5000000  -0.8660254  -0.8030878
</code></pre><p><em style="color: red">Note:</em> The following applies to the FP code <strong style="color: blue">lmf</strong>. For ASA calculations, ignore the remainder of this section.</p> <p>This template will not work as is; three essential pieces of information which <strong style="color: blue">blm</strong> does not supply are missing, to rectify this :</p> <ul> <li>You must specify plane-wave cutoff GMAX; see <a href="#gmax">here</a>.</li> <li>You must specify a valid <strong>k</strong> mesh for Brillouin zone integration; see <a href="#bz">here</a>.</li> <li>You must define a basis set which can be done manually or automatically, as described next.</li> </ul> <p><strong style="color: blue">blm</strong> creates a family of tags belonging to AUTOBAS to enbable other programs to automatically find a basis set for you. We will use this tag, which sets up a standard minimal basis:</p><pre><code>AUTOBAS[PNU=1 LOC=1 LMTO=3 MTO=3 GW=0]
</code></pre><p>(Note that you must modify <em style="color: green">actrl.bi2te3</em> a little; the default gives [.. LMTO=4 MTO=4], which makes a <a href="#multikappa">double kappa basis</a>.</p> <p><strong style="color: blue">lmfa</strong> calculates wave functions and atomic densities for free atoms. It also has a mode that automatically generates information for basis sets, using tokens in AUTOBAS to guide it. This information is written to a file <em style="color: green">basp0.ext</em>. AUTOBAS specifies set of conditions that enable <strong style="color: blue">lmfa</strong> to automatically build the basis set for you, including specification of envelope function parameters <a href="fp.html#spec">RSMH and EH</a>. Alternatively you can define parameters such as EH and RSMH basis by hand, as described <a href="FPtutorial.html#basis">in this tutorial</a>.</p> <p>Tokens in AUTOBAS tell <strong style="color: blue">lmfa</strong> to do the following:</p><pre><code>PNU=1    Calculate [logarithmic derivative](lmto.html#logderivative) parameter for the free atom; save P parameters in file         basp0._ext_        .
         Nothing about P is written if         PNU=0        .

LOC=1    Look for shallow cores to be explicitly treated as valence electrons, using [local orbitals](fp.html#localorbitals).
         Shallow cores that meet specific criteria are identified and written to         basp0._ext_         as PZ=.
         No search is made if         LOC=0        .

LMTO=3   Pick a default choice about the size of basis.  LMTO=3 is a standard minimal basis.
         Run lmfa --input and look for HAM_AUTOBAS_LMTO to see what other choices there are.

         Note that **lmfa** will pick some defaults for the _l_-cutoff
         e.g. _spd_ or _spdf_ depending on the value of LMTO.

MTO=1    Choose 1-kappa basis set (single orbital per _l_ channel).
         For better quality calculations, it is recommended you use MTO=2.

GW=0     If GW=1, tailor basis for a GW calculation, e.g. changing the
         criteria for including shallow cores as valence, and the size of basis.
</code></pre><p>These tokens thus define some reasonable default basis for you. <strong style="color: blue">lmfa</strong> <em>writes</em> <em style="color: green">basp0.ext</em>. This file is never read, but <strong style="color: blue">lmf</strong> will <em>read</em> <em style="color: green">basp.ext</em> and use this information when assembling the basis set. The two files have the same structure and you can copy <em style="color: green">basp0.ext</em> to <em style="color: green">basp.ext</em>. What <strong style="color: blue">lmfa</strong> generates is not cast in concrete. You are free to adjust the parameters to your liking, e.g. add a local orbital or remove one from the basis.</p> <p>The AUTOBAS tokens tell <strong style="color: blue">lmf</strong> what to read from <em style="color: green">basp.ext</em>. It uses tokens in a manner similar, but not identical, to the way <strong style="color: blue">lmfa</strong> uses them:</p><pre><code>PNU=1    Read parameters P for all species present in         basp._ext_

LOC=1    LOC=1 or 2 tell **lmf** to read local orbital parameters PZ.
         Since these parameters may also be specified by the input file,
         LOC=1 tells lmf to give precedence to parameters specified by ctrl file
         LOC=2 tells lmf to give precedence to parameters specified by basp.

LMTO=    is not used by **lmf**.

MTO=1    RSMH and EH may also be specified by the input file
         LMTO=1 or 3 tells lmf to read 1-kappa parameters specified by basp
         LMTO=2 or 4 tells lmf to read 2-kappa parameters specified by basp
         LMTO=1 or 2 tells lmf that parameters in the ctrl file take precedence
         LMTO=2 or 4 tells lmf that parameters in the basp file take precedence

GW=0     If GW=1, tune basis for a GW calculation: log derivative parameters P
         are floated a little differently in the self-consistency cycle.
         They are weighted to better represent unoccupied states, at a slight cost
         to their representation of occupied states.
</code></pre><h4 id="checking-sphere-overlaps">3. <em>Checking sphere overlaps</em></h4> <p>Sphere overlaps can be checked using <strong style="color: blue">lmchk</strong>. To do this copy the template <em style="color: green">actrl.bi2te3</em> to the input file and run <strong style="color: blue">lmchk</strong>:</p><pre><code>$ cp actrl.bi2te3 ctrl.bi2te3
$ lmchk bi2te3
</code></pre><p>By default, <strong style="color: blue">blm</strong> makes the spheres as large as possible without overlapping, as the <a href="FPsamples/out.bi2te3.lmchk">output</a> shows. In this case the Bi and Te radii are nearly the same.</p> <h4 id="making-the-atomic-density">4. <em>Making the atomic density</em></h4> <p>Make the free atom density. If you did not do so already copy <em style="color: green">actrl.bi2te3</em> to the input file (changing [.. LMTO=4 MTO=4] to [.. LMTO=3 MTO=3]) and invoke <strong style="color: blue">lmfa</strong>:</p><pre><code>$ cp actrl.bi2te3 ctrl.bi2te3
$ lmfa bi2te3
</code></pre><p>The primary purpose of <strong style="color: blue">lmfa</strong> is to generate a free atom density. A secondary purpose is to supply additional information about the basis set in an automatic way. All of this information can be supplied manually in the input file, but the autogenerated input file supplies a minimum amount of information. <strong style="color: blue">lmfa</strong> generates <em style="color: green">basp0.bi2te3</em> which contains</p><pre><code>BASIS:
Te RSMH= 1.615 1.681 1.914 1.914 EH= -0.888 -0.288 -0.1 -0.1 P= 5.901 5.853 5.419 4.187
Bi RSMH= 1.674 1.867 1.904 1.904 EH= -0.842 -0.21 -0.1 -0.1 P= 6.896 6.817 6.267 5.199 5.089 PZ= 0 0 15.936
</code></pre><p>Every species gets one line. This file specifies a basis set consisting of <em>spdf</em> orbitals on Te sites, and <em>spdf</em> orbitals on Bi sites, and a local <em>5d</em> orbital on Bi. The contents of this file are explained <a href="#autobas">above</a>; see also <a href="fp.html#spec">RSMH and EH</a>, <a href="lmto.html#pbasp">P</a>, and <a href="fp.html#localorbitals">PZ</a>.</p> <p><em style="color: red">Note:</em> Remember that <strong style="color: blue">lmf</strong> reads from <em style="color: green">basp.ext</em>, not <em style="color: green">basp0.ext</em>.</p> <h5 id="automatically-finding-deep-states-to-include-as-valence-electrons">3.1 <em>Automatically finding deep states to include as valence electrons</em> </h5> <p>The partitioning between valence and core states is something that requires a judgement call. <strong style="color: blue">lmfa</strong> has made a default choice for you: the <a href="FPsamples/out.bi2te3.lmfa1#bihead">output</a> shows that for Bi, <strong style="color: blue">lmfa</strong> selected the 6_s_, 6_p_, 6_d_, 5_f_ states, populating them with charges   2, 3, 0, 0. Note that the total sphere charge is Q=0. You can override the default, e.g. choose the 5_d_ over the 6_d_ with SPEC_ATOM_P; override the <em>l</em> channel charges with SPEC_ATOM_Q.</p> <p>As was explained <a href="#autobas">earlier</a>, when HAM_AUTOBAS_QLOC is set <strong style="color: blue">lmfa</strong> will look for shallow core levels below 6_s_, 6_p_, 6_d_, 5_f_ states, and as <a href="FPsamples/out.bi2te3.lmfa1#localorbital">this table</a> shows <strong style="color: blue">lmfa</strong> selected the 5_d_ orbital which is normally a core state, to be included as a <a href="fp.html#localorbitals">local orbital</a> so that the usual 6_d_ state and the 5_d_ state are simultaneously included in the basis. Even though the 5_d_ state is fairly deep (the <a href="FPsamples/out.bi2te3.lmfa1#bicore">output</a> shows it lies at −2 Ry), the criterion of having a charge density outside the smoothing radius greater than 3×10−3 was met. (Use HAM_AUTOBAS_ELOC and HAM_AUTOBAS_QLOC to change these criteria.) <strong style="color: blue">lmfa</strong> supplies information about this to <em style="color: green">basp0.bi2te3</em>, in the form  PZ=0 0 15.936 (no local orbitals for <em>s</em> or <em>p</em> states). The 0.936 is significant: it tells <strong style="color: blue">lmf</strong> what boundary condition to use for the 5_d_ radial function.</p> <h5 id="automatically-finding-linearization-energies">3.2 <em>Automatically finding linearization energies</em></h5> <p>Because HAM_AUTOBAS_P is set, <strong style="color: blue">lmfa</strong> save estimates for logarithmic derivative parameters P into basp0.<em>ext</em>. As is well known from elementary quantum mechanics, and as described <a href="lmto.html#pbasp">here</a>, there is a relation between the energy of a wave function and its logaritmic derivative at some radius. This information is supplied through the parameters P.</p> <p><strong style="color: blue">lmfa</strong> calculates P for the free-atom potential. Since this potential is not so far removed from the crystal potential, these parameters can find the “band center” reasonably well for each partial wave <em>l</em>. In any case, these are only estimates; they normally get “floated” in the self-consistency cycle.</p> <h5 id="automatically-finding-envelope-function-parameters">3.3 <em>Automatically finding envelope function parameters</em></h5> <p>Finally, the input file contains AUTOBAS[MTO=1]. This causes <strong style="color: blue">lmfa</strong> to envelope function parameters <a href="fp.html#spec">RSMH and EH</a> (RSMH is the <a href="FPtutorial.html#optimizebasis">most important</a> of the two) that fit the free atom wave functions well, and save the result in <em style="color: green">basp0.bi2te3</em>. Unfortunately, what is optimum for the free atom is not optimum for the crystal, but the parameters are a reasonable starting point. These parameters are important, as they determine the quality of the basis. Later we discuss ways to optimize them, or improve the basis quality by adding APWs. <strong>blm</strong> cannot automatically determine every required input from the structural data. But for the following reasons: <strong style="color: blue">lmf</strong> will not run properly as the situation now stands</p> <ol> <li>The <a href="fp.html">basis set</a> has to be specified. <strong style="color: blue">lmfa</strong> autogenerated parameters for a basis set, and saved the result to <em style="color: green">basp0.bi2te3</em>. A decision must be made whether to use <strong style="color: blue">lmfa</strong>’s choices for RSMH, EH, P, and PZ, to supply your own, or to modify <strong style="color: blue">lmfa</strong>’s choice. In any case, you can do it in one of two ways:</li> </ol><pre><code>*   With your text editor pick up the lines in _basp0.bi2te3_{: style="color: green"} for Te and Bi, and paste them into _ctrl.bi2te3_{: style="color: green"}, e.g.

        ATOM=Te Z= 52  R= 2.870279
        RSMH= 1.615 1.681 1.914 1.914 EH= -0.888 -0.288 -0.1 -0.1 P= 5.901 5.853 5.419 4.187
        ATOM=Bi Z= 83  R= 2.856141
        RSMH= 1.674 1.867 1.904 1.904 EH= -0.842 -0.21 -0.1 -0.1 P= 6.896 6.817 6.267 5.199 PZ= 0 0 15.936

*   Copy _basp0.bi2te3_{: style="color: green"} to _basp.bi2te3_{: style="color: green"}, and modify it as you like. File basp._ext_ is read after the main input file is read. If basp._ext_ exists, and one or more of the following tokens is present, their corresponding parameters _may_ be read from basp._ext_:
*   AUTOBAS[MTO]: read RSMH,EH (also possibly RSMH2,EH2)
*   AUTOBAS[P]: read P
*   AUTOBAS[PZ]: read PZ

If some this information is given in both the ctrl file and the basp file, the AUTOBAS settings tell **lmf**{: style="color: blue"} which to use, as described [here](#basprules).
</code></pre><ol> <li> <p>The atm file was created by <strong style="color: blue">lmfa</strong> without prior knowledge that the 5_d_ local orbital is to be included as a valence state (via a local orbital). Thus it incorrectly partitioned the core and valence charge. You must do one of the following:</p> <ul> <li> <p>Remove <strong>PZ=0 0 15.936</strong> from <em style="color: green">basp.bi2te3</em>. It will no longer be treated as a valence state. Removing it means the remaining envelope functions are much smoother, which allows you to get away with a coarser mesh density, as described <a href="#gmax">below</a>. Whether you need it or not depends on the context.</p> </li> <li> <p>Copy <em style="color: green">basp0.bi2te3</em> to <em style="color: green">basp.bi2te3</em> and run <strong style="color: blue">lmfa</strong> over again:</p><pre><code>$ cp basp0.bi2te3 basp.bi2te3
$ lmfa bi2te3
</code></pre></li> </ul> <p>With the latter choice <strong style="color: blue">lmfa</strong> operates a little differently from before as can be seen by comparing <a href="FPsamples/out.bi2te3.lmfa2">new output</a> with the old. Initially the Bi 5_d_ was part of the <a href="FPsamples/out.bi2te3.lmfa1#bicore">core</a>; now is included as part of the <a href="FPsamples/out.bi2te3.lmfa2#xxx2">valence</a>.</p> </li> <li> <p><strong>blm</strong> does not by default assign any value to the plane wave cutoff for the interstitial density. <strong style="color: blue">lmf</strong> reads this information through <a href="FPtutorial.html#GMAX">HAM_GMAX</a>. It is a required input; but <strong>blm</strong> does not pick a value because its <a href="FPtutorial.html#meshdensity">proper choice</a> depends on the smoothness of the basis. <strong style="color: blue">lmfa</strong> will determine a suggested value for HAM_GMAX for you. In the present instance, when the usual 6_s_, 6_p_, 6_d_, 5_f_ states are included <strong style="color: blue">lmfa</strong> recommends GMAX=4.4 as can be seen by inspecting the <a href="FPsamples/out.bi2te3.lmfa1#gmax">first <strong style="color: blue">lmfa</strong> run</a>. In the second run it recommends GMAX=4.1 from the valence states alone (as before), but because of the 5_d_ state <strong style="color: blue">lmfa</strong> recommends that <a href="FPsamples/out.bi2te3.lmfa2#gmax">GMAX=8.1</a>. The 5_d_ state is strongly peaked at around the atom, and requires more plane waves to represent reasonably, even a smoothed version of it, than the other states. The difference between 8.1 and 4.4 is substantial, and it reflects the additional computational cost of including deep core-like states in the valence. This is the all-electron analog of the “hardness” of the pseudopotential in pseudopotential schemes. If you want high-accuracy calculations (especially in the <em>GW</em> context), you will need to include these states as valence. This particular choice of local orbital is rather overkill for LDA calculations however. If you eliminate the Bi 5_d_ local orbital you can set GMAX=4.4 and significantly speed up the execution time.</p> </li> <li> <p><strong>blm</strong> assigns the initial <em>k</em>-point mesh to zero. Note the following lines in <em style="color: green">actrl.bi2te3</em>:</p><pre><code>% const met=5 nk=0
BZ      NKABC={nk}  METAL={met}  # NKABC requires 1 to 3 positive numbers
</code></pre><p>BZ_NKABC governs the mesh of <em>k</em>-points. An appropriate choice will depend strongly on the context of the calculation and the sytem of interest; the density-of-states at the Fermi level; whether Fermi surface properties are important; whether you want optical properties as well as total energies well described; the precision you need; the integration method, and so on. Any automatic formula can be dangerous, so <strong>blm</strong> will not choose a default for you. In this case, a 4×4×4 mesh works well. Use your text editor to change nk=0 to nk=4. Alternatively, supply –nk=.. to <strong>blm</strong> on the command line, as was done in <a href="Demo_QSGW_Si.html#nk">this tutorial</a>.</p> <p>Note that as generated, <em style="color: green">ctrl.bi2te3</em> will reflect METAL=5. Using METAL=5 with the tetrahedron integration is the recommended way to handle Fermi surface integration in metals. See <a href="FPtutorial.html#metal">this tutorial</a> for some discussion.</p> </li> </ol> <h4 id="input-files-for-gw"><em>Input files for GW</em></h4> <p><em>GW</em> calculations demand more of the basis set because unuoccupied states are important. To set up a job in preparation for a <em>GW</em> calculation, invoke <strong>blm</strong> as :</p><pre><code>$ blm --gw bi2te3
</code></pre><p>Compare <em style="color: green">actrl.bi2te3</em> generated with the –gw switch to one without. One important difference will be that the default basis parameters are modified because AUTOBAS becomes:</p><pre><code>AUTOBAS[PNU=1 LOC=1 LMTO=5 MTO=4 GW=1]
</code></pre><p>The basis is similar to LMTO=4 but EH has been set a little deeper. This helps the QS_GW_ implementation interpolate between <em>k</em>-points. The larger basis makes a minor difference to the valence bands; but the conduction bands change, especially the higher in energy you go.</p> <p>Look also at this <a href="Demo_QSGW_Si.html">QS_GW_ demo for Silicon</a>.</p> <p><em>*Note</em>  The GW implementation allows you to use plane waves, but the QS_GW_ part of it does not, as yet.</p> </article> </div><!-- /.medium-12.columns --> </div><!-- /.row --> <div id="up-to-top" class="row"> <div class="small-12 columns" style="text-align: right;"> <a class="iconfont" href="#top-of-page">&#xf108;</a> </div><!-- /.small-12.columns --> </div><!-- /.row --> <footer id="footer-content" class="bg-grau"> <div id="footer"> <div class="row"> <div class="medium-6 large-5 columns"> <h5 class="shadow-black">About This Site</h5> <p class="shadow-black"> Questaal is a suite of programs for LMTO and GW simulations. <a href="https://lordcephei.github.io/info/">More ›</a> </p> </div><!-- /.large-6.columns --> <div class="small-6 medium-3 large-3 large-offset-1 columns"> <h5 class="shadow-black">Services</h5> <ul class="no-bullet shadow-black"> <li > <a href="https://lordcephei.github.io" title=""></a> </li> <li class="services-contact" > <a href="https://lordcephei.github.io/contact/" title="Contact">Contact</a> </li> <li class="list" > <a href="https://lordcephei.github.io/developers/" title="Contact the developers">Developers</a> </li> </ul> </div><!-- /.large-4.columns --> <div class="small-6 medium-3 large-3 columns"> <h5 class="shadow-black">Related websites</h5> <ul class="no-bullet shadow-black"> <li > <a href="https://lordcephei.github.io" title=""></a> </li> <li class="network-entypo" > <a href="http://lmsuite.org" target="_blank" title="">Original LM Suite</a> </li> </ul> </div><!-- /.large-3.columns --> </div><!-- /.row --> </div><!-- /#footer --> </footer> <script src="https://lordcephei.github.io/assets/js/javascript.min.js"></script> <script> (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){ (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o), m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m) })(window,document,'script','//www.google-analytics.com/analytics.js','ga'); ga('create', 'UA-60112281-1', 'auto'); ga('set', 'anonymizeIp', true); ga('send', 'pageview'); </script> </body> </html>
