<!doctype html> <html class="no-js" lang="en"> <head> <meta charset="utf-8" /> <meta name="viewport" content="width=device-width, initial-scale=1.0" /> <title>CPA Enhancement of the Green's function package</title> <link rel="stylesheet" href="https://lordcephei.github.io/assets/css/styles_feeling_responsive.css"> <script src="https://lordcephei.github.io/assets/js/modernizr.min.js"></script> <script src="https://ajax.googleapis.com/ajax/libs/webfont/1.5.18/webfont.js"></script> <script> WebFont.load({ google: { families: [ 'Lato:400,700,400italic:latin', 'Volkhov::latin' ] } }); </script> <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script> <noscript> <link href='http://fonts.googleapis.com/css?family=Lato:400,700,400italic|Volkhov' rel='stylesheet' type='text/css'> </noscript> <meta name="google-site-verification" content="KBbEPlf44q4dfL6SBHqymelMqXBSuZHSXIo-ZfkQLbE" /> <meta name="msvalidate.01" content="0FB4C028ABCF07C908C54386ABD2D97F" /> <meta name="description" content=""/> <link rel="author" href="https://plus.google.com/u/0/104386739373934968982"/> <link rel="icon" sizes="32x32" href="https://lordcephei.github.io/assets/img/favicon-32x32.png"> <link rel="icon" sizes="192x192" href="https://lordcephei.github.io/assets/img/touch-icon-192x192.png"> <link rel="apple-touch-icon-precomposed" sizes="180x180" href="https://lordcephei.github.io/assets/img/apple-touch-icon-180x180-precomposed.png"> <link rel="apple-touch-icon-precomposed" sizes="152x152" href="https://lordcephei.github.io/assets/img/apple-touch-icon-152x152-precomposed.png"> <link rel="apple-touch-icon-precomposed" sizes="144x144" href="https://lordcephei.github.io/assets/img/apple-touch-icon-144x144-precomposed.png"> <link rel="apple-touch-icon-precomposed" sizes="120x120" href="https://lordcephei.github.io/assets/img/apple-touch-icon-120x120-precomposed.png"> <link rel="apple-touch-icon-precomposed" sizes="114x114" href="https://lordcephei.github.io/assets/img/apple-touch-icon-114x114-precomposed.png"> <link rel="apple-touch-icon-precomposed" sizes="76x76" href="https://lordcephei.github.io/assets/img/apple-touch-icon-76x76-precomposed.png"> <link rel="apple-touch-icon-precomposed" sizes="72x72" href="https://lordcephei.github.io/assets/img/apple-touch-icon-72x72-precomposed.png"> <link rel="apple-touch-icon-precomposed" href="https://lordcephei.github.io/assets/img/apple-touch-icon-precomposed.png"> <meta name="msapplication-TileImage" content="https://lordcephei.github.io/assets/img/msapplication_tileimage.png"/> <meta name="msapplication-TileColor" content="#fabb00"> <!-- Facebook Optimization --> <meta property="og:locale" content="en_EN" /> <meta property="og:type" content="website" /> <meta property="og:title" content="CPA Enhancement of the Green's function package" /> <meta property="og:description" content="Questaal is a suite of programs for LMTO and GW simulations."/> <meta property="og:url" content="https://lordcephei.github.io//docs/code/cpadoc/" /> <meta property="og:site_name" content="Questaal" /> <!-- Search Engine Optimization --> <link type="text/plain" rel="author" href="https://lordcephei.github.io/humans.txt" /> <script type="text/x-mathjax-config"> MathJax.Hub.Config({ extensions: ["tex2jax.js", "AMSmath.js"], jax: ["input/TeX", "output/HTML-CSS"], tex2jax: { inlineMath: [ ['$','$'] ], displayMath: [ ['$$','$$'] ], processEscapes: true }, }); </script> <script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"> </script> <style type="text/css"> red { color:purple; /*This changes the color of your text */ font-size:24pt; /*This changes the font size of your text */ } </style> </head> <body id="top-of-page" class="page-fullwidth"> <div id="navigation" class="sticky"> <nav class="top-bar" data-topbar> <ul class="title-area"> <li class="name"> <h1 class="hide-for-large-up"> <a href="https://lordcephei.github.io"> <img src="https://lordcephei.github.io/images/logo.png" style="width:125px;height:40px"></a></h1> </li> <!-- Remove the class "menu-icon" to get rid of menu icon. Take out "Menu" to just have icon alone --> <li class="toggle-topbar menu-icon"><a href="#"><span>Navigation</span></a></li> </ul> <section class="top-bar-section"> <ul class="left"> <li class ="show-for-large-up"><a href="https://lordcephei.github.io/"> <img src="https://lordcephei.github.io/images/logo.png" style="width:125px;height:40px"></a></li> <li class="divider"></li> <li class="has-dropdown"> <a href="https://lordcephei.github.io">Functionality</a> <ul class="dropdown"> <li><a href="https://lordcephei.github.io/functionality/application/">By Physical Application</a></li> <li><a href="https://lordcephei.github.io/functionality/program/">By Suite Program</a></li> </ul> </li> <li class="divider"></li> <li class="has-dropdown"> <a href="https://lordcephei.github.io">Documentation</a> <ul class="dropdown"> <li><a href="https://lordcephei.github.io/docs/package_overview/">Package Overview</a></li> <li><a href="https://lordcephei.github.io/docs/install/">Installation</a></li> <li class="has-dropdown"><a href="#">Description by code</a> <ul class="dropdown"> <li><a href="https://lordcephei.github.io/docs/code/fpoverview/">Full Potential Overview</a></li> <li><a href="https://lordcephei.github.io/docs/code/gwoverview/">GW Overview</a></li> <li><a href="https://lordcephei.github.io/docs/code/dmftoverview/">Dynamical Mean Field Theory</a></li> <li><a href="https://lordcephei.github.io/docs/code/asaoverview/">ASA Overview</a></li> <li><a href="https://lordcephei.github.io/docs/code/lmgf/">ASA Green's function</a></li> <li><a href="https://lordcephei.github.io/docs/code/smhankels/">Smooth Hankel Functions</a></li> <li><a href="https://lordcephei.github.io/docs/code/jpos/">Jigsaw Puzzle Orbitals</a></li> <li><a href="https://lordcephei.github.io/docs/code/cpadoc/">CPA Enhancement of the Green's function package</a></li> <li><a href="https://lordcephei.github.io/docs/code/spectral-functions/">Spectral function calculations with lmgf</a></li> </ul></li> <li class="has-dropdown"><a href="#">Input Files</a> <ul class="dropdown"> <li><a href="https://lordcephei.github.io/docs/input/inputfile/">The Input File</a></li> <li><a href="https://lordcephei.github.io/docs/input/preprocessor/">File Preprocessor</a></li> <li><a href="https://lordcephei.github.io/docs/input/sitefile/">The Site file</a></li> <li><a href="https://lordcephei.github.io/docs/input/symfile/">Symmetry Line Files</a></li> </ul></li> <li class="has-dropdown"><a href="#">Annotated Output Files</a> <ul class="dropdown"> <li><a href="https://lordcephei.github.io/docs/outputs/lmf_output/">lmf standard output</a></li> </ul></li> <li class="has-dropdown"><a href="#">Command Line Options</a> <ul class="dropdown"> <li><a href="https://lordcephei.github.io/docs/commandline/general/">General</a></li> <li><a href="https://lordcephei.github.io/docs/commandline/lm/">lm</a></li> <li><a href="https://lordcephei.github.io/docs/commandline/lmf/">lmf</a></li> </ul></li> <li class="has-dropdown"><a href="#">Physical Properties</a> <ul class="dropdown"> <li><a href="https://lordcephei.github.io/docs/properties/optics/">Optics</a></li> </ul></li> <li class="has-dropdown"><a href="#">Auxilliary tools</a> <ul class="dropdown"> <li><a href="https://lordcephei.github.io/docs/misc/plbnds/">The plbnds program</a></li> <li><a href="https://lordcephei.github.io/docs/misc/pldos/">The pldos program</a></li> <li><a href="https://lordcephei.github.io/docs/misc/fplot/">The fplot program</a></li> <li><a href="https://lordcephei.github.io/docs/misc/mccalcdoc/">The mc calculator</a></li> <li><a href="https://lordcephei.github.io/docs/misc/pfitdoc/">The pfit program</a></li> <li><a href="https://lordcephei.github.io/docs/misc/ccomp/">The ccomp processor</a></li> <li><a href="https://lordcephei.github.io/docs/misc/integerlists/">Integer list syntax</a></li> <li><a href="https://lordcephei.github.io/docs/misc/rotations/">Specifying rotations</a></li> </ul></li> </ul> </li> <li class="divider"></li> <li class="has-dropdown"> <a href="https://lordcephei.github.io">Tutorials</a> <ul class="dropdown"> <li><a href="https://lordcephei.github.io/tutorial/importing_input/">Importing Input files</a></li> <li class="has-dropdown"><a href="#">lmf</a> <ul class="dropdown"> <li><a href="https://lordcephei.github.io/tutorial/lmf/lmf_tutorial/">Basic Tutorial for Full-Potential lmf</a></li> <li><a href="https://lordcephei.github.io/tutorial/lmf/lmf_pbte_tutorial/">Self-consistent density in PbTe</a></li> <li><a href="https://lordcephei.github.io/tutorial/lmf/lmf_bi2te3_tutorial/">Properties of the lmf basis set</a></li> <li><a href="https://lordcephei.github.io/tutorial/lmf/fpnew/">Elastic constant in Al</a></li> <li><a href="https://lordcephei.github.io/tutorial/lmf/fpoptbas/">lmf Basis Set Optimisation</a></li> <li><a href="https://lordcephei.github.io/tutorial/lmf/pdos/">Generating a Partial DOS</a></li> <li><a href="https://lordcephei.github.io/tutorial/lmf/mulliken/">Performing Mulliken Analysis</a></li> <li><a href="https://lordcephei.github.io/tutorial/lmf/fermisurface/">Generating a Fermi Surface</a></li> <li><a href="https://lordcephei.github.io/tutorial/lmf/cls/">Performing Core Level Spectroscopy</a></li> <li><a href="https://lordcephei.github.io/tutorial/lmf/lmf_bandedge/">Extremal points and calculating effective mass</a></li> </ul></li> <li class="has-dropdown"><a href="#">ASA</a> <ul class="dropdown"> <li><a href="https://lordcephei.github.io/tutorial/asa/lm_pbte_tutorial/">LM Tutorial</a></li> </ul></li> <li class="has-dropdown"><a href="#">GW</a> <ul class="dropdown"> <li><a href="https://lordcephei.github.io/tutorial/gw/poscar_qsgw/">POSCAR to QSGW</a></li> <li><a href="https://lordcephei.github.io/tutorial/gw/qsgw/">QSGW Tutorial</a></li> </ul></li> <li class="has-dropdown"><a href="#">lmgf</a> <ul class="dropdown"> <li><a href="https://lordcephei.github.io/tutorial/lmgf/lmgf">LMGF Tutorial</a></li> </ul></li> <li class="has-dropdown"><a href="#">qsgw + dmft</a> <ul class="dropdown"> <li><a href="https://lordcephei.github.io/tutorial/qsgw_dmft/dmft0/">Introduction</a></li> <li><a href="https://lordcephei.github.io/tutorial/qsgw_dmft/dmft1/">Setting up the DMFT loop</a></li> <li><a href="https://lordcephei.github.io/tutorial/qsgw_dmft/dmft2/">Running the DMFT loop</a></li> <li><a href="https://lordcephei.github.io/tutorial/qsgw_dmft/dmft3/">Issues with input and parameters</a></li> <li><a href="https://lordcephei.github.io/tutorial/qsgw_dmft/dmft4/">Charge + static-magnetic contributions</a></li> <li><a href="https://lordcephei.github.io/tutorial/qsgw_dmft/dmft5/">The density loop</a></li> <li><a href="https://lordcephei.github.io/tutorial/qsgw_dmft/maxent1/">The maximum entropy method</a></li> <li><a href="https://lordcephei.github.io/tutorial/qsgw_dmft/dmft7/">The self-energy loop and the dynamical double-counting</a></li> </ul></li> <li class="has-dropdown"><a href="#">tbe</a> <ul class="dropdown"> <li><a href="https://lordcephei.github.io/tutorial/tbe/tbectrl">TBE Tutorial</a></li> </ul></li> <li class="has-dropdown"><a href="#">Physical Application</a> <ul class="dropdown"> <li><a href="https://lordcephei.github.io/tutorial/application/optics/">Optics using lm and lmf</a></li> <li><a href="https://lordcephei.github.io/tutorial/application/fstut/">Making a Fermi surface</a></li> </ul></li> <li class="has-dropdown"><a href="#">Miscellaneous</a> <ul class="dropdown"> <li><a href="https://lordcephei.github.io/tutorial/misc/extbfield/">Adding external Zeeman field to the potential</a></li> </ul></li> </ul> </li> <li class="divider"></li> <li class=""><a href="https://lordcephei.github.io/formatting/">Site Contribution</a></li> <li class="divider"></li> <li class=""><a href="https://lordcephei.github.io/developers/">Developers</a></li> <li class="divider"></li> </ul> <ul class="right"> <li class="divider"></li> <li><a href="https://lordcephei.github.io/search/">Search</a></li> <li class="divider"></li> <li><a href="https://lordcephei.github.io/contact/">Contact</a></li> <li class="divider"></li> <li><a href="https://lordcephei.github.io/about/">About</a></li> </ul> </section> </nav> </div><!-- /#navigation --> <div class="row t30"> <div class="medium-12 columns"> <article> <header> <p class="subheadline"></p> <h1>CPA Enhancement of the Green's function package</h1> </header> <p class="teaser"> </p> <h3 class="no_toc" id="table-of-contents"><em>Table of Contents</em></h3> <ul id="markdown-toc"> <li><a href="#preliminaries" id="markdown-toc-preliminaries"><em>Preliminaries</em></a></li> <li><a href="#cpa-specific-input" id="markdown-toc-cpa-specific-input"><em>CPA-specific input</em></a> <ul> <li><a href="#spec-category" id="markdown-toc-spec-category"><em>SPEC category</em></a></li> <li><a href="#gf-category" id="markdown-toc-gf-category"><em>GF category</em></a></li> </ul> </li> <li><a href="#compatibility-with-other-features" id="markdown-toc-compatibility-with-other-features"><em>Compatibility with other features</em></a></li> <li><a href="#atomic-files" id="markdown-toc-atomic-files"><em>Atomic files</em></a></li> <li><a href="#outputs" id="markdown-toc-outputs"><em>Outputs</em></a></li> <li><a href="#partial-densities-of-states" id="markdown-toc-partial-densities-of-states"><em>Partial densities of states</em></a></li> <li><a href="#spectral-functions" id="markdown-toc-spectral-functions"><em>Spectral Functions</em></a></li> <li><a href="#test-case" id="markdown-toc-test-case"><em>Test case</em></a></li> </ul> <h3 id="preliminaries"><em>Preliminaries</em></h3> <hr /> <p><strong style="color: blue">lmgf</strong> contains an implementation of the <strong>Coherent Potential Approximation</strong> (CPA) and <strong>Disordered Local Moments</strong> (DLM) theory. It was implemented by <em>Kirill Belashchenko</em> and questions should be directed to him (<em>belashchenko@unl.edu</em>).</p> <p>The CPA implementation for substitutional alloys and for spin disorder follows the formulation explained in these articles:</p> <ul> <li>I. Turek et al., <em>Electronic strucure of disordered alloys, surfaces and interfaces</em> (Kluwer, Boston, 1996).</li> <li><a href="http://journals.aps.org/prb/abstract/10.1103/PhysRevB.41.7515">J. Kudrnovsky and V. Drchal, Phys. Rev. B 41, 7515 (1990)</a>.</li> <li><a href="http://journals.aps.org/prb/abstract/10.1103/PhysRevB.35.2487">J. Kudrnovsky, V. Drchal, and J. Masek, Phys. Rev. B 35, 2487 (1987)</a>.</li> </ul> <p>Particularly, see the description of the numerical implementation in Turek’s book.</p> <p>CPA self-consistency is based on iterating the coherent interactor Ω, which is a spin-dependent single-site matrix defined for each CPA site at each complex energy point. The linear mixing of Ω can be interleaved with charge mixing steps. However, experience shows that much faster convergence can be achieved by iterating Ω at each z-point until its misfit reaches a sufficiently low tolerance (say, 1d-3), between charge mixing steps. In addition, it is better to skip charge mixing if sufficiently accurate charge-neutrality has not been achieved (the reason being that Ω is not Pade-adjusted). There are a few parameters controlling Ω convergence, which are summarized below along with the recommended settings that work quite well in most cases. The Ω matrices are recorded in files <strong style="color: green">omegaN.ext</strong>, where <em>N</em> is the number of the CPA site. A human-readable version (with fewer decimal digits) is recorded in <strong style="color: green">om-hrN.ext</strong>.</p> <h3 id="cpa-specific-input"><em>CPA-specific input</em></h3> <hr /> <p>To turn on chemical and/or magnetic CPA, additons are required to the <strong>SPEC</strong> and <strong>GF</strong> categories in the ctrl file.</p> <h4 id="spec-category"><em>SPEC category</em></h4> <hr /> <p><strong style="color: orange">Chemical Disorder</strong>. Additional species must be defined for chemical CPA, and their concentrations.</p><pre><code>SPEC ATOM CPA= and C= together turn on chemical CPA for a particular species.
</code></pre><p>They specify which species are to be alloyed with this species, and the concentrations of the other species. For example,</p><pre><code>SPEC ATOM=Fe ... CPA=1 4 5 C=0.5 0.3 0.2 
</code></pre><p>specifies that species Fe (whenever it appears in the basis (defined in <strong>SITE</strong> category) in fact refers to a disordered site composed of three kinds of elements. Numbers following <strong>CPA=</strong> refer to indices in the <strong>SPEC</strong> category: thus “<strong>CPA=1 4 5</strong>” indicate that the three elements to be identified with sites referring to this species are the 1st, 4th, and 5th species declared in the <strong>SPEC</strong> category. <strong>C=</strong> indicates the concentrations of each species; the concentrations must sum to 1. In the example given, sites with species label Fe are composite elements with with 50% of species 1, 30% of species 4 and 20% of species 5 (up to 10 species may be given).</p> <p>A CPA species may refer to itself. For example, if the Fe species above is the first species to be read from the ctrl file, then <strong>CPA=1</strong> refers to itself. All other parameters like <em>Z</em>, <em>R</em>, will be taken from this species.</p> <p><strong style="color: orange">Spin Disorder</strong>. No additional species are required, but the number of orientations must be specified.</p><pre><code>SPEC ATOM NTHET= turns on spin disorder for a particular atom type.
</code></pre><p>A species with non-zero <strong>NTHET</strong> can be listed as a CPA component, and it will be included as NTHET components with different directions of the local moment.</p> <p><strong>NTHET=2</strong> specifies that there will be two CPA-DLM components with polar angles 0 and π. <strong>NTHET=N</strong> with <script type="math/tex">N>2</script> specifies a vector-DLM model, for which N polar angles for the local moment direction are selected using the Gaussian quadrature for the sphere. (Axial symmetry is always assumed and the integral over the azimuthal angle is taken analytically.)</p> <p><strong style="color: orange">Combined Chemical and Spin Disorder</strong>. Either spin or chemical disorder may be specified; they may also be included simultaneously. If only <strong>CPA=</strong> is chosen, that species will be treated with chemical, not spin, disorder. If only <strong>NTHET=</strong> is chosen, that species be treated with spin disorder only. Specifying both means that the CPA will include both chemical and spin disorder. For example, in the above example for CPA, if <strong>SPEC ATOM=Fe</strong> includes a tag <strong>NTHET=2</strong> (while species 4 and 5 have <strong>NTHET=0</strong>), species Fe describes a CPA site with 4 components: 25% Fe, 25% Fe with a reversed local moment, 30% species 4 and 20% species 5.</p> <h4 id="gf-category"><em>GF category</em></h4> <hr /> <p>The following token turns on the CPA and/or DLM:</p><pre><code>GF DLM= controls what is being calculated. 
</code></pre><p>At present, these values are supported:</p><pre><code>DLM=12: normal CPA calculation; both charges and Ω's are iterated
DLM=32: no charge self-consistency; only CPA it iterated until Ω reaches
        prescribed tolerance for each z-point.
DLM=112: special-purpose experimental branch (not documented)
</code></pre><p>The following are optional inputs:</p><pre><code>GF BXY=1 turns on the self-consistent determination of the
   constraining fields for vector DLM calculations.

GF TEMP= supplies the spin temperature (not implemented yet)
</code></pre><p>Self-consistency in Ω is controlled by the following tags supplied in GF GFOPTS:</p><pre><code>lotf    if present, Ω is iterated at each z-point until converged to omgtol (recommended)
nitmax= maximum number of Ω iterations (30 is usually sufficient)
omgmix= linear mixing parameter for Ω (0.4 works well in most cases)
omgtol= tolerance for Ω
padtol= same meaning as usual, but note that Ω is not mixed unless padtol is reached
   (1d-3 is recommended for all CPA calculations)
dz=     special branch, in which z-points are shifted by dz along the real axis (experimental)
</code></pre><p>Recommended options:</p><pre><code>GF GFOPTS=[...];omgmix=0.4;padtol=1d-3;omgtol=1d-3;lotf;nitmax=30
</code></pre><h3 id="compatibility-with-other-features"><em>Compatibility with other features</em></h3> <hr /> <p>Downfolding is supported. Note, however, that downfolding applies to the crystal Green’s function and not to individual CPA components. The downfolding options are taken from the first species appearing in the CPA list. Gamma representation is supported with a caveat. CPA does not allow random structure constants, which means that the screening parameters must be the same for all components on the same CPA site. In the present implementation, the screening parameters are taken from the first class listed for the given CPA site (for a DLM site this is angle #1).</p> <p><em>LDA+U</em> <strong>is not</strong> supported, and density matrices are not calculated for the components on the CPA site. However, the modes <strong>IDU=4</strong> and <strong>IDU=5</strong> are supported. The U and J parameters for these modes are taken from the first species appearing in the CPA list.</p> <p>Broyden mixing for charged works fine if omgtol is set to a sufficiently low value. If Broyden mixing seems to act strangely, try to reduce omgtol. Charge self-consistency in CPA may sometimes be difficult for impurities with low concentrations. (Note that an isolated impurity can be described by adding it as a CPA component with zero concentration.)</p> <h3 id="atomic-files"><em>Atomic files</em></h3> <hr /> <p>It is important to understand the atomic file handling with CPA. For a CPA site (say, species Fe) the code creates an atomic file per each CPA component. In the above example with <strong>SPEC ATOM=Fe … NTHET=2 CPA=1 4 5</strong> there will be four atomic files: <strong style="color: green">fe#1.ext</strong> for Fe with angle 0, <strong style="color: green">fe#2.ext</strong> for Fe with angle π, <strong style="color: green">fe#3.ext</strong> for species type 4, and <strong style="color: green">fe#4.ext</strong> for species type 5. Note that fe#3 and <strong style="color: green">fe#4</strong> will not actually correspond to Fe atoms, but to those described by species 4 and 5. Because convergence can be delicate, it is always recommended to copy appropriately prepared atomic files before attempting a CPA calculation. In the above example, converge a Fe atom and copy the atom file to <strong style="color: green">fe#1.ex</strong>t and <strong style="color: green">fe#2.ext</strong>; then converge species type 4 and copy it to <strong style="color: green">fe#3.ext</strong>, and so on. For DLM with <strong>NTHET=N</strong>, make N copies of the atomic file: say, <strong style="color: green">fe#1.ext</strong>, <strong style="color: green">fe#2.ext</strong>, …, <strong style="color: green">fe#N.ext</strong>.</p> <h3 id="outputs"><em>Outputs</em></h3> <hr /> <p>At the beginning of the run, some debugging information is printed, listing the indexing for the CPA sites. <strong>DLMWGTS</strong> lists the polar angles (0 for non-DLM classes) and weights for all CPA classes (this is also for debugging purposes). <strong>GETZV</strong> prints the total valence charge, which in CPA is generally not integer. Output for each CPA component includes the usual information (charge, local moment, etc.). Exchange constants J0 are automatically calculated for all CPA components using the linear response formula from Liechtenstein et al. (it can not be disabled, but the computational cost in any case negligible). Off-diagonal local moments and constraining fields are always printed out, even if DLM is not used. These include the diagonal local moment as well. All these moments are output, unmixed values. In the self-consistent state the z-component should equal to the input moment.</p> <p>At the end of the iteration Ω is mixed, and its misfit for each CPA site is printed out (see “<em>Mixed Omega for site …</em>”) The total energy is correctly calculated and printed out as ehk, as usual.</p> <h3 id="partial-densities-of-states"><em>Partial densities of states</em></h3> <hr /> <p>Partial DOS can be calculated as usual using contour type 2 and adding pdos to the <strong>GFOPTS</strong> tag. Note that in this case Ω needs to be converged anew at each point of the new contour. This destroys the old converged Ω file, so it is recommended to create a separate directory for a DOS calculation. The file <strong style="color: green">dos.ext</strong> contains the usual information, but the data for CPA sites are averaged over components. The partial DOS for all components are separately recorded in files <strong style="color: green">dosN.ext</strong>, where N is the number of the CPA site. The format of this file is the same as that of dos.ext, as if it described a system with M sites (where M is the number of CPA components). For example, for a binary CPA on site 2 with spd basis, file <strong style="color: green">dos2.ext</strong> contains channels 1:6 for the first CPA component and channels 7:12 for the second CPA component. This file can be processed using <strong>pldos</strong>, as a conventional dos file.</p> <h3 id="spectral-functions"><em>Spectral Functions</em></h3> <hr /> <p><strong style="color: blue">lmgf</strong> can generate spectral functions. It is very useful way to see the broadening of states from disorder, and you can plot energy bands with it. <a href="https://lordcephei.github.io/docs/code/spectral-functions/">This document</a> explains how to make them and draw energy bands.</p> <h3 id="test-case"><em>Test case</em></h3> <hr /> <p>To familiarize yourself with a CPA case you can run the following test case</p><pre><code>  your path to lm /lm/gf/test/test.gf fe2b
</code></pre></article> </div><!-- /.medium-12.columns --> </div><!-- /.row --> <div id="up-to-top" class="row"> <div class="small-12 columns" style="text-align: right;"> <a class="iconfont" href="#top-of-page">&#xf108;</a> </div><!-- /.small-12.columns --> </div><!-- /.row --> <footer id="footer-content" class="bg-grau"> <div id="footer"> <div class="row"> <div class="medium-6 large-5 columns"> <h5 class="shadow-black">About This Site</h5> <p class="shadow-black"> Questaal is a suite of programs for LMTO and GW simulations. <a href="https://lordcephei.github.io/info/">More ›</a> </p> </div><!-- /.large-6.columns --> <div class="small-6 medium-3 large-3 large-offset-1 columns"> <h5 class="shadow-black">Services</h5> <ul class="no-bullet shadow-black"> <li > <a href="https://lordcephei.github.io" title=""></a> </li> <li class="services-contact" > <a href="https://lordcephei.github.io/contact/" title="Contact">Contact</a> </li> <li class="list" > <a href="https://lordcephei.github.io/developers/" title="Contact the developers">Developers</a> </li> </ul> </div><!-- /.large-4.columns --> <div class="small-6 medium-3 large-3 columns"> <h5 class="shadow-black">Related websites</h5> <ul class="no-bullet shadow-black"> <li > <a href="https://lordcephei.github.io" title=""></a> </li> <li class="network-entypo" > <a href="http://lmsuite.org" target="_blank" title="">Original LM Suite</a> </li> </ul> </div><!-- /.large-3.columns --> </div><!-- /.row --> </div><!-- /#footer --> </footer> <script src="https://lordcephei.github.io/assets/js/javascript.min.js"></script> <script> (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){ (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o), m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m) })(window,document,'script','//www.google-analytics.com/analytics.js','ga'); ga('create', 'UA-60112281-1', 'auto'); ga('set', 'anonymizeIp', true); ga('send', 'pageview'); </script> </body> </html>
