<!doctype html> <html class="no-js" lang="en"> <head> <meta charset="utf-8" /> <meta name="viewport" content="width=device-width, initial-scale=1.0" /> <title>The fplot program</title> <link rel="stylesheet" href="https://lordcephei.github.io/assets/css/styles_feeling_responsive.css"> <script src="https://lordcephei.github.io/assets/js/modernizr.min.js"></script> <script src="https://ajax.googleapis.com/ajax/libs/webfont/1.5.18/webfont.js"></script> <script> WebFont.load({ google: { families: [ 'Lato:400,700,400italic:latin', 'Volkhov::latin' ] } }); </script> <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script> <noscript> <link href='http://fonts.googleapis.com/css?family=Lato:400,700,400italic|Volkhov' rel='stylesheet' type='text/css'> </noscript> <meta name="google-site-verification" content="KBbEPlf44q4dfL6SBHqymelMqXBSuZHSXIo-ZfkQLbE" /> <meta name="msvalidate.01" content="0FB4C028ABCF07C908C54386ABD2D97F" /> <meta name="description" content="Questaal is a suite of programs for LMTO and GW simulations."/> <link rel="author" href="https://plus.google.com/u/0/104386739373934968982"/> <link rel="icon" sizes="32x32" href="https://lordcephei.github.io/assets/img/favicon-32x32.png"> <link rel="icon" sizes="192x192" href="https://lordcephei.github.io/assets/img/touch-icon-192x192.png"> <link rel="apple-touch-icon-precomposed" sizes="180x180" href="https://lordcephei.github.io/assets/img/apple-touch-icon-180x180-precomposed.png"> <link rel="apple-touch-icon-precomposed" sizes="152x152" href="https://lordcephei.github.io/assets/img/apple-touch-icon-152x152-precomposed.png"> <link rel="apple-touch-icon-precomposed" sizes="144x144" href="https://lordcephei.github.io/assets/img/apple-touch-icon-144x144-precomposed.png"> <link rel="apple-touch-icon-precomposed" sizes="120x120" href="https://lordcephei.github.io/assets/img/apple-touch-icon-120x120-precomposed.png"> <link rel="apple-touch-icon-precomposed" sizes="114x114" href="https://lordcephei.github.io/assets/img/apple-touch-icon-114x114-precomposed.png"> <link rel="apple-touch-icon-precomposed" sizes="76x76" href="https://lordcephei.github.io/assets/img/apple-touch-icon-76x76-precomposed.png"> <link rel="apple-touch-icon-precomposed" sizes="72x72" href="https://lordcephei.github.io/assets/img/apple-touch-icon-72x72-precomposed.png"> <link rel="apple-touch-icon-precomposed" href="https://lordcephei.github.io/assets/img/apple-touch-icon-precomposed.png"> <meta name="msapplication-TileImage" content="https://lordcephei.github.io/assets/img/msapplication_tileimage.png"/> <meta name="msapplication-TileColor" content="#fabb00"> <!-- Facebook Optimization --> <meta property="og:locale" content="en_EN" /> <meta property="og:type" content="website" /> <meta property="og:title" content="The fplot program" /> <meta property="og:description" content="Questaal is a suite of programs for LMTO and GW simulations."/> <meta property="og:url" content="https://lordcephei.github.io//docs/misc/fplot/" /> <meta property="og:site_name" content="Questaal" /> <!-- Search Engine Optimization --> <link type="text/plain" rel="author" href="https://lordcephei.github.io/humans.txt" /> <script type="text/x-mathjax-config"> MathJax.Hub.Config({ extensions: ["tex2jax.js", "AMSmath.js"], jax: ["input/TeX", "output/HTML-CSS"], tex2jax: { inlineMath: [ ['$','$'] ], displayMath: [ ['$$','$$'] ], processEscapes: true }, }); </script> <script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"> </script> <style type="text/css"> red { color:purple; /*This changes the color of your text */ font-size:24pt; /*This changes the font size of your text */ } </style> </head> <body id="top-of-page" class="page-fullwidth"> <div id="navigation" class="sticky"> <nav class="top-bar" data-topbar> <ul class="title-area"> <li class="name"> <h1 class="hide-for-large-up"> <a href="https://lordcephei.github.io"> <img src="https://lordcephei.github.io/images/logo.png" style="width:125px;height:40px"></a></h1> </li> <!-- Remove the class "menu-icon" to get rid of menu icon. Take out "Menu" to just have icon alone --> <li class="toggle-topbar menu-icon"><a href="#"><span>Navigation</span></a></li> </ul> <section class="top-bar-section"> <ul class="left"> <li class ="show-for-large-up"><a href="https://lordcephei.github.io/"> <img src="https://lordcephei.github.io/images/logo.png" style="width:125px;height:40px"></a></li> <li class="divider"></li> <li class="has-dropdown"> <a href="https://lordcephei.github.io">Functionality</a> <ul class="dropdown"> <li><a href="https://lordcephei.github.io/functionality/application/">By Physical Application</a></li> <li><a href="https://lordcephei.github.io/functionality/program/">By Suite Program</a></li> </ul> </li> <li class="divider"></li> <li class="has-dropdown"> <a href="https://lordcephei.github.io">Documentation</a> <ul class="dropdown"> <li><a href="https://lordcephei.github.io/docs/package_overview/">Package Overview</a></li> <li><a href="https://lordcephei.github.io/docs/install/">Installation</a></li> <li class="has-dropdown"><a href="#">Description by code</a> <ul class="dropdown"> <li><a href="https://lordcephei.github.io/docs/code/fpoverview/">Full Potential Overview</a></li> <li><a href="https://lordcephei.github.io/docs/code/gwoverview/">GW Overview</a></li> <li><a href="https://lordcephei.github.io/docs/code/dmftoverview/">Dynamical Mean Field Theory</a></li> <li><a href="https://lordcephei.github.io/docs/code/asaoverview/">ASA Overview</a></li> <li><a href="https://lordcephei.github.io/docs/code/lmgf/">ASA Green's function</a></li> <li><a href="https://lordcephei.github.io/docs/code/smhankels/">Smooth Hankel Functions</a></li> <li><a href="https://lordcephei.github.io/docs/code/jpos/">Jigsaw Puzzle Orbitals</a></li> <li><a href="https://lordcephei.github.io/docs/code/cpadoc/">CPA Enhancement of the Green's function package</a></li> <li><a href="https://lordcephei.github.io/docs/code/spectral-functions/">Spectral function calculations with lmgf</a></li> </ul></li> <li class="has-dropdown"><a href="#">Input Files</a> <ul class="dropdown"> <li><a href="https://lordcephei.github.io/docs/input/inputfile/">The Input File</a></li> <li><a href="https://lordcephei.github.io/docs/input/preprocessor/">File Preprocessor</a></li> <li><a href="https://lordcephei.github.io/docs/input/sitefile/">The Site file</a></li> <li><a href="https://lordcephei.github.io/docs/input/symfile/">Symmetry Line Files</a></li> </ul></li> <li class="has-dropdown"><a href="#">Annotated Output Files</a> <ul class="dropdown"> <li><a href="https://lordcephei.github.io/docs/outputs/lmf_output/">lmf standard output</a></li> </ul></li> <li class="has-dropdown"><a href="#">Command Line Options</a> <ul class="dropdown"> <li><a href="https://lordcephei.github.io/docs/commandline/general/">General</a></li> <li><a href="https://lordcephei.github.io/docs/commandline/lm/">lm</a></li> <li><a href="https://lordcephei.github.io/docs/commandline/lmf/">lmf</a></li> </ul></li> <li class="has-dropdown"><a href="#">Physical Properties</a> <ul class="dropdown"> <li><a href="https://lordcephei.github.io/docs/properties/optics/">Optics</a></li> </ul></li> <li class="has-dropdown"><a href="#">Auxilliary tools</a> <ul class="dropdown"> <li><a href="https://lordcephei.github.io/docs/misc/plbnds/">The plbnds program</a></li> <li><a href="https://lordcephei.github.io/docs/misc/pldos/">The pldos program</a></li> <li><a href="https://lordcephei.github.io/docs/misc/fplot/">The fplot program</a></li> <li><a href="https://lordcephei.github.io/docs/misc/mccalcdoc/">The mc calculator</a></li> <li><a href="https://lordcephei.github.io/docs/misc/pfitdoc/">The pfit program</a></li> <li><a href="https://lordcephei.github.io/docs/misc/ccomp/">The ccomp processor</a></li> <li><a href="https://lordcephei.github.io/docs/misc/integerlists/">Integer list syntax</a></li> <li><a href="https://lordcephei.github.io/docs/misc/rotations/">Specifying rotations</a></li> </ul></li> </ul> </li> <li class="divider"></li> <li class="has-dropdown"> <a href="https://lordcephei.github.io">Tutorials</a> <ul class="dropdown"> <li><a href="https://lordcephei.github.io/tutorial/importing_input/">Importing Input files</a></li> <li class="has-dropdown"><a href="#">lmf</a> <ul class="dropdown"> <li><a href="https://lordcephei.github.io/tutorial/lmf/lmf_tutorial/">Basic Tutorial for Full-Potential lmf</a></li> <li><a href="https://lordcephei.github.io/tutorial/lmf/lmf_pbte_tutorial/">Self-consistent density in PbTe</a></li> <li><a href="https://lordcephei.github.io/tutorial/lmf/lmf_bi2te3_tutorial/">Properties of the lmf basis set</a></li> <li><a href="https://lordcephei.github.io/tutorial/lmf/fpnew/">Elastic constant in Al</a></li> <li><a href="https://lordcephei.github.io/tutorial/lmf/fpoptbas/">lmf Basis Set Optimisation</a></li> <li><a href="https://lordcephei.github.io/tutorial/lmf/pdos/">Generating a Partial DOS</a></li> <li><a href="https://lordcephei.github.io/tutorial/lmf/mulliken/">Performing Mulliken Analysis</a></li> <li><a href="https://lordcephei.github.io/tutorial/lmf/fermisurface/">Generating a Fermi Surface</a></li> <li><a href="https://lordcephei.github.io/tutorial/lmf/cls/">Performing Core Level Spectroscopy</a></li> <li><a href="https://lordcephei.github.io/tutorial/lmf/lmf_bandedge/">Extremal points and calculating effective mass</a></li> </ul></li> <li class="has-dropdown"><a href="#">ASA</a> <ul class="dropdown"> <li><a href="https://lordcephei.github.io/tutorial/asa/lm_pbte_tutorial/">LM Tutorial</a></li> </ul></li> <li class="has-dropdown"><a href="#">GW</a> <ul class="dropdown"> <li><a href="https://lordcephei.github.io/tutorial/gw/poscar_qsgw/">POSCAR to QSGW</a></li> <li><a href="https://lordcephei.github.io/tutorial/gw/qsgw/">QSGW Tutorial</a></li> </ul></li> <li class="has-dropdown"><a href="#">lmgf</a> <ul class="dropdown"> <li><a href="https://lordcephei.github.io/tutorial/lmgf/lmgf">LMGF Tutorial</a></li> </ul></li> <li class="has-dropdown"><a href="#">qsgw + dmft</a> <ul class="dropdown"> <li><a href="https://lordcephei.github.io/tutorial/qsgw_dmft/dmft0/">Introduction</a></li> <li><a href="https://lordcephei.github.io/tutorial/qsgw_dmft/dmft1/">Setting up the DMFT loop</a></li> <li><a href="https://lordcephei.github.io/tutorial/qsgw_dmft/dmft2/">Running the DMFT loop</a></li> <li><a href="https://lordcephei.github.io/tutorial/qsgw_dmft/dmft3/">Issues with input and parameters</a></li> <li><a href="https://lordcephei.github.io/tutorial/qsgw_dmft/dmft4/">Charge + static-magnetic contributions</a></li> <li><a href="https://lordcephei.github.io/tutorial/qsgw_dmft/dmft5/">The density loop</a></li> <li><a href="https://lordcephei.github.io/tutorial/qsgw_dmft/maxent1/">The maximum entropy method</a></li> <li><a href="https://lordcephei.github.io/tutorial/qsgw_dmft/dmft7/">The self-energy loop and the dynamical double-counting</a></li> </ul></li> <li class="has-dropdown"><a href="#">tbe</a> <ul class="dropdown"> <li><a href="https://lordcephei.github.io/tutorial/tbe/tbectrl">TBE Tutorial</a></li> </ul></li> <li class="has-dropdown"><a href="#">Physical Application</a> <ul class="dropdown"> <li><a href="https://lordcephei.github.io/tutorial/application/optics/">Optics using lm and lmf</a></li> <li><a href="https://lordcephei.github.io/tutorial/application/fstut/">Making a Fermi surface</a></li> </ul></li> <li class="has-dropdown"><a href="#">Miscellaneous</a> <ul class="dropdown"> <li><a href="https://lordcephei.github.io/tutorial/misc/extbfield/">Adding external Zeeman field to the potential</a></li> </ul></li> </ul> </li> <li class="divider"></li> <li class=""><a href="https://lordcephei.github.io/formatting/">Site Contribution</a></li> <li class="divider"></li> <li class=""><a href="https://lordcephei.github.io/developers/">Developers</a></li> <li class="divider"></li> </ul> <ul class="right"> <li class="divider"></li> <li><a href="https://lordcephei.github.io/search/">Search</a></li> <li class="divider"></li> <li><a href="https://lordcephei.github.io/contact/">Contact</a></li> <li class="divider"></li> <li><a href="https://lordcephei.github.io/about/">About</a></li> </ul> </section> </nav> </div><!-- /#navigation --> <div class="row t30"> <div class="medium-12 columns"> <article> <header> <h1>The fplot program</h1> </header> <hr /> <h3 class="no_toc" id="purpose"><em>Purpose</em></h3> <p><strong style="color: blue">fplot</strong> is a general purpose plotting package, with functionality roughly similar to <strong style="color: blue">gnuplot</strong>. It is a command-line driven tool; you can also supply the information in a script file. <strong style="color: blue">fplot</strong> has its particular strengths and weaknesses, but for the Questaal suite it is particularly useful because it synchronises smoothly with other Questaal executables such as <a href="/docs/misc/plbnds"><strong style="color: blue">plbnds</strong></a> and <a href="/docs/misc/pldos/"><strong style="color: blue">pldos</strong></a>, and uses the same file structure for data.</p> <p>Also <strong style="color: blue">fplot</strong> provides some functionality not readily obtained in <strong style="color: blue">gnuplot</strong>, e.g. to determine cyclotron masses, drawing <a href="/docs/misc/plbnds/#example-3">energy bands with color weights</a>, and taking advantage of the <a href="/docs/input/preprocessor">programming language features</a> of the Questaal suite.</p> <p>Tutorials that draw bands or densities-of-states use <strong style="color: blue">fplot</strong> to build figures. But <a href="/docs/misc/plbnds"><strong style="color: blue">plbnds</strong></a> and <a href="/docs/misc/pldos/"><strong style="color: blue">pldos</strong></a> will render data generated by Questaal codes into easily read files, for use by any graphics package.</p> <hr /> <h3 class="no_toc" id="table-of-contents"><em>Table of Contents</em></h3> <ul id="markdown-toc"> <li><a href="#preliminaries" id="markdown-toc-preliminaries"><em>Preliminaries</em></a></li> <li><a href="#introduction" id="markdown-toc-introduction">1. <em>Introduction</em></a></li> <li><a href="#examples" id="markdown-toc-examples">2. <em>Examples</em></a> <ul> <li><a href="#example-21-nbsp-plot-nbsp-y20x2exp-4x" id="markdown-toc-example-21-nbsp-plot-nbsp-y20x2exp-4x">Example 2.1.   plot   <script type="math/tex">y=20\,x^2\exp(-4x)</script></a></li> <li><a href="#example-22-nbsp-reading-fplot-commands-from-a-script-file" id="markdown-toc-example-22-nbsp-reading-fplot-commands-from-a-script-file">Example 2.2.   Reading fplot commands from a script file</a></li> <li><a href="#example-23-nbsp-charge-density-contours-in-cr" id="markdown-toc-example-23-nbsp-charge-density-contours-in-cr">Example 2.3.   <em>Charge density contours in Cr</em></a></li> <li><a href="#example-24-nbsp-mobility-in-tlinp" id="markdown-toc-example-24-nbsp-mobility-in-tlinp">Example 2.4.   <em>Mobility in TlInP</em></a></li> </ul> </li> <li><a href="#fplot-manual" id="markdown-toc-fplot-manual">3. <em>fplot manual</em></a> <ul> <li><a href="#init-switches-must-occur-first" id="markdown-toc-init-switches-must-occur-first"><strong>INIT</strong> switches must occur first</a></li> <li><a href="#format-switches-govern-frame-layout-and-labels" id="markdown-toc-format-switches-govern-frame-layout-and-labels"><strong>FORMAT</strong> switches govern frame layout and labels.</a></li> <li><a href="#labelling-and-numbering-switches-govern-labels-and-axis-numbering" id="markdown-toc-labelling-and-numbering-switches-govern-labels-and-axis-numbering"><strong>LABELLING and NUMBERING</strong> switches govern labels and axis numbering</a></li> <li><a href="#data-switches-draw-one-or-more-families-of-xy-data" id="markdown-toc-data-switches-draw-one-or-more-families-of-xy-data"><strong>DATA</strong> switches draw one or more families of xy data</a></li> </ul> </li> <li><a href="#additional-notes" id="markdown-toc-additional-notes">4. <em>Additional notes</em></a> <ul> <li><a href="#file-preprocessor" id="markdown-toc-file-preprocessor">File preprocessor</a> <ul> <li><a href="#on-the-differences-between-fplot-switches-in-a-script-file-and-on-the-command-line" id="markdown-toc-on-the-differences-between-fplot-switches-in-a-script-file-and-on-the-command-line">On the differences between fplot switches in a script file and on the command line</a></li> </ul> </li> <li><a href="#color-specification" id="markdown-toc-color-specification">Color specification</a></li> <li><a href="#user-units" id="markdown-toc-user-units">User units</a></li> <li><a href="#graphics-units-and-medium-units" id="markdown-toc-graphics-units-and-medium-units">Graphics units and medium units</a></li> <li><a href="#structure-of-data-files" id="markdown-toc-structure-of-data-files">Structure of data files</a></li> </ul> </li> <li><a href="#other-resources" id="markdown-toc-other-resources">5. <em>Other resources</em></a></li> <li><a href="#additional-exercises" id="markdown-toc-additional-exercises">6. <em>Additional exercises</em></a> <ul> <li><a href="#error-bars" id="markdown-toc-error-bars">Error bars</a></li> <li><a href="#dot-dashed-lines" id="markdown-toc-dot-dashed-lines">Dot-dashed lines</a></li> <li><a href="#using-the-wiggle-and-arrow-symbols" id="markdown-toc-using-the-wiggle-and-arrow-symbols">Using the wiggle and arrow symbols</a></li> <li><a href="#fun-with-labels" id="markdown-toc-fun-with-labels">Fun with labels</a></li> </ul> </li> </ul> <hr /> <h3 id="preliminaries"><em>Preliminaries</em></h3> <p><strong style="color: blue">fplot</strong> is required and is assumed to be in your path. You will also need a postscript viewer. This document assumes you are using the apple-style <strong style="color: blue">open</strong> command to view postscript files.</p> <p>This manual is written for fplot version 3.50. To see what version you are using, do:</p><pre><code>$ fplot --version
</code></pre><hr /> <h3 id="introduction">1. <em>Introduction</em></h3> <p><strong style="color: blue">fplot</strong> is mainly designed to draw <em>xy</em> data; it has some capability for contour plots and a very limited ability for 3D graphics.</p> <p><strong style="color: blue">fplot</strong> is command-line driven and can efficiently generate figures from command-line arguments. It can also read arguments from a file script; this is necessary if the figure is complex. <strong style="color: blue">fplot</strong> can make full use of the <a href="/docs/input/preprocessor">programming language capability</a> it has for reading input files, in both the script and the data files.</p> <p>Other programs, especially <a href="/docs/misc/plbnds/">plbnds</a> and <a href="/docs/misc/pldos/">pldos</a>, make <strong style="color: blue">fplot</strong> scripts to make the process of drawing high quality figures of bands very easy and efficient, with the capability of refining the figure by tuning the autogenerated plotting script.</p> <p><strong style="color: blue">fplot</strong> will print a synopsis of the command it provides by typing</p><pre><code>$ fplot --h
</code></pre><h3 id="examples">2. <em>Examples</em></h3> <p>This section develops a few examples to provide an intuitive feel for how the code operates and to illustrate some features. A systematic description of <strong style="color: blue">fplot</strong>’s features and arguments is given in the manual, Section 3.</p> <h4 id="example-21-nbsp-plot-nbsp-y20x2exp-4x">Example 2.1.   plot   <script type="math/tex">y=20\,x^2\exp(-4x)</script></h4> <!-- /docs/misc/fplot/#example-21-nbsp-plot-y20x2exp-4x --> <p>The following will plot this function in the interval (0,2), with the abscissa spaced in intervals of 0.02:</p><pre><code>$ fplot -ord '20*x^2*exp(-4*x)' -tp .02:2:.02
$ open fplot.ps
</code></pre><div onclick="elm = document.getElementById('fig1'); if(elm.style.display == 'none') elm.style.display = 'block'; else elm.style.display = 'none';">Click here to view the figure.</div> <p><div style="display:none;padding:0px;" id="fig1"> <img src="https://lordcephei.github.io/assets/img/fplot1.svg" alt="Example 2.1" /> </div></p> <p>Some useful points to note:</p> <ul> <li>A square box is drawn around the figure. You can select the width and height of the box; see <code>-frme</code> below, or try<br /> <code>$ fplot -frme .1,.9,.3,.7 -ord ...</code></li> <li>For log scales, modify <code>-frme</code> with <code>:lx</code> or <code>:ly</code> or both, e.g. <code>$ fplot -frme:ly 0,1,0,1 -ord ...</code></li> <li>By default all four edges of the box are drawn. You can draw any combination of the four (<code>-frmt</code>) or shade the box; e.g.<br /> <code>$ fplot -frmt th=6,1,1 -ord ...</code> or <code>fplot -frmt col=.8,.9,.9,th=0 -ord ...</code></li> <li>You can also draw the abscissa and ordinate through some middle point (<code>-frme:xor</code> and <code>-frme:yab</code>), e.g.<br /> <code>$ fplot -frme:xor=.5:yab=.675 0,1,0,1 -ord ...</code></li> <li>You have considerable flexibility in controlling major and minor tic marks on the abscissa and ordinate (<code>-tmx</code> and <code>-tmy</code>), e.g.<br /> <code>$ fplot -tmx '.25;1~.02' -tmy '.1:5' -ord ...</code></li> <li>There is considerable flexibility in controlling the tic mark placement, font (<code>-font</code>) and formatting of the numbers (<code>-fmtnx</code> and <code>-fmtny</code>), whether they are suppressed (<code>-noxn</code> and <code>-noyn</code>) and where numbering is placed (<code>-xn</code> and <code>-yn</code>), e.g.<br /> <code>$ fplot '-fmtnx:%;2,2d' -fmtny:%e -ord ...</code></li> <li>You can control many aspects of the line type (<code>-lt</code>), e.g.<br /> <code>$ fplot -lt 3,bold=4,col=1,0,0 -ord ...</code></li> <li>The abscissa ranges from -0.1 to 2.1; the ordinate from -0.033 to +0.71. They were found automatically by finding the largest and smallest values in the frame, and padding the range by 10%. You can specify the padding (<code>-pad</code>) and/or the bounds (<code>-x</code> and <code>-y</code>), e.g.<br /> <code>$ fplot -x .2,.3 -y .3,.6 -p0 -ord ...</code></li> <li>Labels can be added, e.g. in the following you should see a label centered at (1.2,0.5) similar to:  Δ<i>k</i><sub>⊥</sub>/<i>k</i><sub>0</sub>. Note that the string has Greek and italic symbols, subscripts and special character ⊥. These are accomplished through curly brackets <strong>{…}</strong>.<pre>$ fplot -ord '20*x^2*exp(-4*x)' -tp .02:2:.02 -lbl 1.2,0.5 cc '~{D}&amp;{k}_{~&#123;&#123;\136&#125;&#125;}/&amp;{k}_{0}'</pre></li> </ul> <h4 id="example-22-nbsp-reading-fplot-commands-from-a-script-file">Example 2.2.   Reading fplot commands from a script file</h4> <!-- /docs/misc/fplot/#example-22-nbsp-reading-fplot-commands-from-a-script-file --> <p>Except for very simple cases, figures are too involved to invoked entirely from a command line. Usually commands are be read from an input file (script file).</p> <p>The following example presents a graphical solution to the Schrodinger equation for a particle in a box of width <em>L</em> and potential depth <i>V<sub>0</sub></i>. The quantization condition for wave number <em>k</em> reads:</p> <script type="math/tex; mode=display">\frac{\mathrm{cos}^2kL}{k^2L^2} = \frac{\hbar ^2}{2mV_0L^2} \quad\quad\quad\quad (1)</script> <p>It is a nonlinear equation in <em>k</em> which must be solved numerically or graphically. The latter is accomplished by drawing the left and right sides of Eq. (1) and seeing where the curves intersect. It is convenient to work with the dimensionless parameter <em>x</em>=<em>kL</em> and treat the right hand site as a dimensionless constant.</p> <p>Cut and paste the box below into script file <em style="color: green">plot.box</em>.</p><pre><code>fplot
  -frme 0,1,0,0.5 -frmt th=3,1,1 -tmx 1:1;.04 -tmy 0;0 -noyn -noxn -p0
  -lt 1,bold=5,col=0,.3,.8 -ord cos(x)*cos(x)/x/x -tp 1.1:15:.01
  -lt 2,bold=4,col=.8,.3,.0 -ord .015 -tp 1,10
  -lbl 15,-.0005 cc x
</code></pre><p>Create and view the postscript file:</p><pre><code>$ fplot -f plot.box
$ open fplot.ps
</code></pre><p>Points to note:</p> <ul> <li>The script file must contain a line <a href="/docs/misc/fplot/#init-switches-must-occur-first">beginning with <strong>fplot</strong></a>. Subsequent indented comprise the instructions to <strong style="color: blue">fplot</strong>.</li> <li>The script file is read through the <a href="/docs/input/preprocessor/">file preprocessor</a>. (In this example there are no special preprocessor instructions.)</li> <li>Multiple <em>xy</em> curves are drawn by stringing together (<strong>DATA-switches data-file</strong>) pairs.<br /> In this case the left hand side of Eq.(1) is drawn in blue-green (<strong><em>r</em>,<em>g</em>,<em>b</em> = 0,0.3,0.8</strong>), followed by a reddish dashed horizontal line at <em>y</em>=0.015.\ (There are five solutions where the two curves intersect. As <i>V<sub>0</sub></i> increases the rhs becomes smaller and more solutions appear).</li> <li>Tic marks on the <em>x</em> axis are all the same size while those on the <em>y</em> axis are suppressed.</li> </ul> <h4 id="example-23-nbsp-charge-density-contours-in-cr">Example 2.3.   <em>Charge density contours in Cr</em></h4> <!-- /docs/misc/fplot/#example-23-nbsp-charge-density-contours-in-cr --> <p>It is usually more convenient to make scripts for fplot, especially when the figure is complex. This figure shows a contour plot of the charge density of the Cr charge density in (100), (011) plane, with quality almost good enough for publication in a journal.</p> <p>In this example commands are read from script <em style="color: green">fplot.cr</em>. To make this plot you will need to copy the already-prepared charge density contour file <a href="../../../assets/download/inputfiles/chgd.cr">chgd.cr</a> to your working directory, and cut and paste the script in the box below to <em style="color: green">plot.cr</em>.</p><pre><code>fplot
  -frme 0,0.5,0,sqrt(0.5) -tmx '1;0' -tmy '1;0' -noxn -noyn
  -x 0,1 -y 0,1
  -con .045,.055 -lt 2,bold=3,col=.4,0,0 chgd.cr
  -con .065,.075 -lt 3,bold=4,col=0,0,0 chgd.cr
  -font h13
  -lbl 0.17,0.556 cc '45'
  -lbl 0.28,0.355 cc '55'
  -font t14
  -lbl .5,-.02 cd 'Charge density in bcc Chromium (10^\{-3} a.u.)'
</code></pre><p>Create and view the postscript file:</p><pre><code>$ fplot -f plot.cr
$ open fplot.ps
</code></pre><div onclick="elm = document.getElementById('fig2'); if(elm.style.display == 'none') elm.style.display = 'block'; else elm.style.display = 'none';">Click here to see the figure.</div> <p><div style="display:none;padding:0px;" id="fig2"> <img src="https://lordcephei.github.io/assets/img/contours-cr.svg" alt="Example 2.3" /> </div></p> <ul> <li>Argument <code>-f</code> tells <strong style="color: blue">fplot</strong> that the next argument <em style="color: green">fplot.cr</em> is not a command but a file containing a script.</li> <li>The script file is read through the preprocessor before parsing. In this case there are no preprocessor directives.</li> <li>Commands inside a script work almost exactly as they do on the command line. However, in scripts you have to use <strong>\{…}</strong> for curly brackets, since a simple <strong>{…}</strong> will interpreted by the preprocessor as expressions. Curly brackets can specify superscripts and subscripts, Greek, bold, italic and symbol fonts.</li> <li><strong style="color: blue">fplot</strong> draws constant-density contours at 0.045 and 0.055 because of <code>-con .045,.055</code>. By splitting up the four contours into a pair of <code>-con</code> commands, distinct colours and line types can be drawn.</li> <li>Data is read from <em style="color: green">chgd.cr</em>, which must contain <em>xy</em> data. <strong style="color: blue">fplot</strong> must be told how many rows or columns the data has; here it is specified in the first line of <em style="color: green">chgd.cr</em>.</li> <li>Two of the contour values are labelled (<code>-lblu</code>) using Helvetica 13pt font; the figure label uses a 14pt Roman font</li> </ul> <h4 id="example-24-nbsp-mobility-in-tlinp">Example 2.4.   <em>Mobility in TlInP</em></h4> <!-- /docs/misc/fplot/#example-24-nbsp-mobility-in-tlinp --> <p>This example shows how to use a log scale, customize positioning of tic marks and labelling, use a polynomial to interpolate discrete data, and add a key.</p> <p>The figure drawn below depicts the predicted mobility of Tl<sub>_1-<i>x</i></sub>In<sub>_<i>x</i></sub>P alloy. It was adapted from a figure published in this <a href="http://scitation.aip.org/content/aip/journal/apl/65/21/10.1063/1.112567">1994 paper</a>, which proposed Tl<sub>_1-<i>x</i></sub>In<sub>_<i>x</i></sub>P and Tl<sub>_1-<i>x</i></sub>In<sub>_<i>x</i></sub>As as infrared detector materials.</p> <p>To make this figure, copy calculated mobililties from file <a href="../../../assets/download/inputfiles/mobility.tlinp" style="color: green">mobility.tlinp</a> to your working directory, and cut and paste the script in the box below to <em style="color: green">plot.mobility</em>.</p><pre><code>fplot
  -frme:ly .13,.52,.96,1.42 -frmt th=3,1,2 -x 0,300 -y .27,5 -p0 -1p -yn:r
  -font t18
  -lbl 265,4.5:0 rc "~\{m}"
  -lbl 250,.21 rc "T(K)"
  -font t16
  -tmx 1@5,0,100,200 -tmy '1:1@2'
  -k 90,3,.25
  -l0 In_\{1-x}Tl_\{x}P  -lt 2,bold=3,1,.5,.2,.5  -ord x2/1e5 -itrp 10,300,5,1,4 mobility.tlinp
  -l0 In_\{1-x}Tl_\{x}As -lt 2,bold=3,1.5,.5      -ord x3/1e5 -itrp 10,300,5,1,4 mobility.tlinp
  -l0 Hg_\{x}Cd_\{1-x}Te -lt 1,bold=3             -ord x5/1e5 -itrp 10,300,5,0,4 mobility.tlinp
</code></pre><p>Create and view the postscript file:</p><pre><code>$ fplot -f plot.mobility
$ open fplot.ps
</code></pre><div onclick="elm = document.getElementById('fig4'); if(elm.style.display == 'none') elm.style.display = 'block'; else elm.style.display = 'none';">Click here to see the figure.</div> <p><div style="display:none;padding:0px;" id="fig4"> <img src="https://lordcephei.github.io/assets/img/mobility-tlinp.svg" alt="Example 2.4" /> </div></p> <p>Notes on <a href="/docs/misc/fplot/#format-switches-govern-frame-layout-and-labels">frame formatting switches</a></p> <ul> <li><code>-frme:ly</code> tells <strong style="color: blue">fplot</strong> to use a log scale for the <em>y</em> axis.</li> <li><code>-frmt th=3,1,2</code> creates a frame with axes on the bottom and right sides.</li> <li><code> -x 0,300</code> and <code>-y .27,5</code> set the user’s units that bound the figure.</li> <li><code>-p0</code> suppresses padding of the frame (increasing the range of <em>x</em> and <em>y</em>).</li> <li><code>-1p</code> terminates the first pass.</li> <li><code>-yn:r</code> causes the figure numbering to appear on the right side.</li> <li><code>-font t18</code> sets the font for the labels to Times Roman 18 points.</li> <li><code>-lbl 265,4.5:0 rc "~\{m}"</code> and <code>-lbl 250,.21 rc "T(K)"</code> generate the axes labels.</li> <li><code>-font t16</code> sets the font for subsequent labels.</li> <li><code>-tmx 1@5,0,100,200</code> <ul> <li><strong>@5</strong>   specifies the parser that the user chooses the location of tic marks.<br /> Append a list of numbers where you want tics to appear (0, 100, 200 in this case).</li> <li>The <strong>1</strong> in <strong>1@5</strong>, which normally specifies the position of the first tic, is not relevant for mode <strong>5</strong>.</li> </ul> </li> <li><code>-k 90,3,.25</code> sets up initial parameters for the key. <strong>90,3</strong> are the <em>x,y</em> coordinates; <strong>0.25</strong> is the <em>y</em> spacing between entries.</li> <li><code>-tmy 1:1@2</code> <ul> <li><strong>:1</strong> specifies that every tic mark is labelled. <strong>@2</strong> specifies a ‘medium’ log scale with marks at 1,2,5. <strong>1:</strong> is needed for the syntax but has no effect for log scales.</li> </ul> </li> </ul> <p>Notes on <a href="/docs/misc/fplot/#data-switches-draw-one-or-more-families-of-xy-data">data switches</a>:</p> <ul> <li><code>-l0 In_\{1-x}Tl_\{x}P</code> provides a key corresponding to next set of data.</li> <li><code>-lt 2,bold=3,1,.5,.2,.5</code> specifies a <a href="/docs/misc/fplot/#dot-dashed-lines">dot-dashed line</a>.</li> <li><code>-ord x2/1e5</code> maps the ordinate to a new number (simple scaling in this case).</li> <li><code>-itrp 10,300,5,1,4</code> causes the data to be interpolated to a uniform mesh on the <em>x</em> axis. <ul> <li>Interpolated points span (10,300), and are spaced by 5 points.</li> <li>The fourth argument (<strong>1</strong>) specifies interpolation by a rational function.</li> <li>the final argument (<strong>4)</strong> specifies that a fourth order polynomial be used.</li> </ul> </li> <li>Three data sets are drawn, each with its own line type and key label. The third set is interpolated with an ordinary polynomial.</li> </ul> <hr /> <h3 id="fplot-manual">3. <em>fplot manual</em></h3> <!-- /docs/misc/fplot/#example-21-nbsp-plot-y20x2exp-4x --> <p>This manual is written for fplot version 3.50.</p> <p>Usage:</p><pre>
fplot [-INIT-switches] [-FORMAT-switches] [-DATA-switches] <i>data-file</i> ...
</pre><h5 id="init-switches-must-occur-first"><strong>INIT</strong> switches must occur first</h5> <!-- /docs/misc/fplot/#init-switches-must-occur-first --> <ul> <li><strong>--h | --help</strong><br /> print out a help message and exits.</li> <li><strong>-rot</strong><br /> rotate figure 90 by degrees</li> <li><strong>-pr#</strong><br /> set the standard output verbosity to #</li> <li><strong>-disp[:lus]</strong><br /> display picture in a subshell. Option :l or :u or :s draws in landscape, upside-down, seascape.<br /> <em style="color: red">Note:</em> to use this feature you must compile <strong style="color: blue">fplot</strong> with a viewer available your machine.<br /> Customize string <strong>dispfn</strong> near the beginning of <strong>fplot.f</strong>.</li> <li><strong>-plaintext</strong><br /> assume strings have no non-ASCII characters (superscripts, subscripts, etc).</li> <li> <p><strong>-f <i>script-file</i></strong><br /> read remaining arguments from input file <b><i>script-file</i></b>.<br /> <em style="color: red">Note:</em> the script file is <a href="/docs/misc/fplot/#file-preprocessor">run through the file preprocessor</a> before parsing.<br /> The input (script) file must contain a line beginning with <strong>fplot</strong> in the first column. This plays the role of a <em>category</em> in the Questaal <a href="/docs/input/inputfile/#input-file-structure">input system</a>. <strong style="color: blue">fplot</strong> will skip over lines until it finds one beginning with <strong>fplot</strong> in the first column. It will begin to parse arguments as though they are read from the command-line until end-of-file is encountered, or a line begins with a character in the first column, or it is terminated by preprocessor instruction such as <strong>% exit</strong>.</p> <p><a href="/docs/misc/fplot/#example-22-nbsp-reading-fplot-commands-from-a-script-file">Example 2.2</a> provides an example.</p> </li> </ul> <h5 id="format-switches-govern-frame-layout-and-labels"><strong>FORMAT</strong> switches govern frame layout and labels.</h5> <!-- /docs/misc/fplot/#format-switches-govern-frame-layout-and-labels --> <p>A figure is comprised of one or more frames. Each new frame overlays anything below it.</p> <p><em style="color: red">Note:</em> by default, <strong style="color: blue">fplot</strong> draws a frame around the figure with tic marks and numbering (see <a href="/docs/misc/fplot/#example-21-nbsp-plot-y20x2exp-4x">Example 2.1</a>). These defaults can be modified with the switches in this section.</p> <p><em style="color: red">Note:</em> some switches in this and later sections specify colors through, <strong>col=<em>r</em>,<em>g</em>,<em>b</em></strong> (RBG conventions red,green,blue)</p> <!-- + **-frme[:lx|:ly|:lxy][:theta=#][:xor=#][:yab=#] &nbsp;_l_,_r_,_b_,_t_**\\ creates a new frame in a rectangular box. _l_,_r_,_b_,_t_ are the left, right, bottom, top edges in "graphics units."\\ _Note:_{: style="color: red"} "graphics units" are designed so that 0,1,0,1 makes a square box with that fits on a sheet of A4 or American size paper with comfortable margins. {::nomarkdown}<div>{:/} &nbsp; Option | Function &nbsp; :lx | &nbsp; :ly | &nbsp; :lxy | &nbsp; :xor=# | &nbsp; :yab=# | &nbsp; :theta=# | {::nomarkdown}</div>{:/} --> <ul> <li><strong>-frme[:lx|:ly|:lxy][:theta=#][:xor=#][:yab=#]  <em>l</em>,<em>r</em>,<em>b</em>,<em>t</em></strong><br /> starts a new frame, in box. <em>l</em>,<em>r</em>,<em>b</em>,<em>t</em> are left, right, bottom, top in “graphics units.”<br /> <em style="color: red">Note:</em> “graphics units” are designed so that 0,1,0,1 makes a square box with that fits on a sheet of A4 or American size paper with comfortable margins. Options to <strong>-frme</strong> are:<br /> <ul> <li><strong>:lx</strong>                draw abscissa on a logarithmic scale.</li> <li><strong>:ly</strong>                draw ordinate on a logarithmic scale.</li> <li><strong>:lxy</strong>             draw both abscissa and ordinate on a logarithmic scale.</li> <li><strong>:xor=#</strong>      draw vertical axis at x=#.</li> <li><strong>:yab=#</strong>      draw horizontal axis at y=#.</li> <li><strong>:theta=#</strong> angle between abscissa and ordinate (in radians)<br /></li> </ul> </li> </ul> <p><i> </i></p> <ul> <li><strong>-frmt   [col=<em>r</em>,<em>g</em>,<em>b</em>,][th=#1[,#2,#3]]</strong><br /> Sets parameters governing the drawing of frame. <ul> <li><strong>col=<em>r</em>,<em>g</em>,<em>b</em></strong> specify the line color for the frame (RBG conventions red,green,blue)</li> <li><strong>th=#1[,#2,#3]</strong> specifies the line thickness and which lines are drawn:<br /> <strong>#1</strong> sets line thickness.   −1 draws no frame.   Default value is 3.<br /> <strong>#2</strong> set to:  <strong>0</strong> for top and bottom;  <strong>1</strong> for bottom only;  <strong>2</strong> for top only;  <strong>3</strong> for neither.<br /> <strong>#3</strong> set to:  <strong>0</strong> for left and right;  <strong>1</strong> for left only;  <strong>2</strong> for right only;  <strong>3</strong> for neither.</li> </ul> </li> </ul> <p><i> </i></p> <ul> <li><strong>-tmx</strong> | <strong>-tmy   spacing[:mt][,pos][;rmt][~rmnt][@mode]</strong><br /> tic mark specification and attributes. <ul> <li><strong>spacing</strong>       spacing between tics (spacing may be modified by <strong>@mode</strong>, below)</li> <li><strong>:mt</strong>                 no. tics per major tic</li> <li><strong>,pos</strong>               position and size of major tic</li> <li><strong>;rmt</strong>               size of major tic</li> <li><strong>\~rmnt</strong>          size of minor tic, relative to major tic</li> <li><strong>@<em>n</em></strong>         special tic mark placement modes<br /> @1   “fine grained” log scale: tics put at at 1,2,3,4,5,6,7,8,9 × 10&lt;/sup&gt;integer&lt;/sup&gt;<br /> @2   “medium grained” log scale: tics put at at 1,2,5 × 10&lt;/sup&gt;integer&lt;/sup&gt;<br /> @3   “coarse grained” log scale: tics put at at 1 × 10&lt;/sup&gt;integer&lt;/sup&gt;<br /> @5   tic marks selected by the user. Specify a list of points after the @5 indicating where the marks should go.</li> </ul> <p>Medium grained and user-selected marks are used in <a href="/docs/misc/fplot/#example-24-nbsp-mobility-in-tlinp">Example 2.4</a>.</p> </li> </ul> <p><i> </i></p> <ul> <li><strong>-x   <i>x</i><sub>1</sub>,<i>x</i><sub>2</sub></strong> <br /> specifies range in abscissa : <i>x</i><sub>1</sub> = left edge, <i>x</i><sub>2</sub> = right edge (modified by padding <strong>-p#</strong> as described below).<br /> If this switch is not supplied, <strong style="color: blue">fplot</strong> will make an initial pass through all the data in the current frame to determine the globally smallest and largest abscissa values, and use them for <i>x</i><sub>1</sub> and <i>x</i><sub>2</sub>.</li> <li><strong>-y   <i>y</i><sub>1</sub>,<i>y</i><sub>2</sub></strong><br /> specifies range in ordinate : <i>y</i><sub>1</sub> = bottom edge, <i>y</i><sub>2</sub> = top edge (modified by padding <strong>-p#</strong> as described below).<br /> If this switch is not supplied, <strong style="color: blue">fplot</strong> will make an initial pass through all the data in the current frame to determine the globally smallest and largest ordinate values, and use them for <i>y</i><sub>1</sub> and <i>y</i><sub>2</sub>.</li> <li> <p><strong>-p#</strong><br /> pads bounds of abscissa and ordinate by adding ±(#/2)×(<i>x</i><sub>2</sub>−<i>x</i><sub>1</sub>) to the right (left) boundary, and ±(#/2)×(<i>y</i><sub>2</sub>−<i>y</i><sub>1</sub>) to the top (bottom) boundary. The default padding factor is 0.1.<br /> <em style="color: red">Note:</em> Even if you specify <i>x</i><sub>1</sub> and <i>x</i><sub>2</sub> or <i>y</i><sub>1</sub> and <i>x</i><sub>2</sub> through the <strong>-x</strong> and <strong>-y</strong> switches, they are still padded. Use <code>-p0</code> to suppress padding.<br /> <em style="color: red">Note:</em> <strong><i>x</i><sub>1</sub></strong>, <strong><i>x</i><sub>2</sub></strong>, and <strong><i>y</i><sub>1</sub></strong>, <strong><i>y</i><sub>2</sub></strong> are called “user’s units” in contrast to “graphics units” and “medium units.” These are intermediate units used to facilitate construction of the figure.</p> </li> <li><strong>-1p</strong><br /> skip parsing of remaining arguments in the frame for the first pass. Current values for <strong><i>x</i><sub>1</sub>,<i>x</i><sub>2</sub></strong> and <strong><i>y</i><sub>1</sub>,<i>y</i><sub>2</sub></strong> are frozen.</li> </ul> <!-- + **-aspect #\\ resizes frame to make dy/dx(UU) / dy/dx(MU) = # --> <ul> <li> <p><strong>-3d shy[,shx,shz]</strong><br /> sets up 3-d perspective drawing.<br /> Points are shifted by <strong>shy</strong> (<strong>shx</strong>,<strong>shz</strong>). Projection is <strong>x</strong> to right, <strong>z</strong> up, <strong>y</strong> normal to paper.</p> </li> <li> <p><strong>-rotp rot1[,rot2,…]</strong> rotates points around an axis, or a succession of axes (used in conjunction with <strong>-3d</strong>).<br /> <em>Example</em></p> <p><strong>-rotp (0,0,1)pi/4,(0,1,0)pi/3,(0,0,1)pi/2</strong></p> </li> </ul> <p>rotates the points by the Euler angles π/4, π/3, π/2. <a href="/docs/misc/rotations/">This document</a> specifies the syntax of rotations.</p> <h5 id="labelling-and-numbering-switches-govern-labels-and-axis-numbering"><strong>LABELLING and NUMBERING</strong> switches govern labels and axis numbering</h5> <!-- /docs/misc/fplot/#labelling-and-numbering-switches-govern-labels-and-axis-numbering --> <p>Where labels are used, text inside curly brackets <strong>{..}</strong> may be mapped into other fonts, depending on the character preceding the brackets.</p> <p><div></p> <table> <tbody> <tr> <td>Character</td> <td>Function</td> </tr> <tr> <td>^{..}</td> <td>superscript</td> </tr> <tr> <td>_{..}</td> <td>subscript</td> </tr> <tr> <td>\~{..}</td> <td>Greek/Symbol</td> </tr> <tr> <td>@{..}</td> <td>bold</td> </tr> <tr> <td>&amp;{..}</td> <td>italic</td> </tr> </tbody> </table> <p></div></p> <p><em>Example</em> : \~{D}&amp;{k}_{~{{\136}}}/&amp;{k}_{0}<br /> will be drawn as   Δ<i>k</i><sub>⊥</sub>/<i>k</i><sub>0</sub>. (<b>\136</b> is the postscript symbol for ⊥.)</p> <p><em style="color: red">Note:</em> When using <strong>{..}</strong> in an <strong style="color: blue">fplot</strong> script file, you must <a href="/docs/misc/fplot/#on-the-differences-between-fplot-switches-in-a-script-file-and-on-the-command-line">prepend the left bracket with a ‘<strong>\</strong>’</a> to avoid substitution by the preprocessor.</p> <p><em>Example modified for script file</em> :   \~\{D}&amp;\{k}_\{~\{\{\136}}}/&amp;\{k}_\{0}</p> <ul> <li><strong>-lbl[um] <em>x</em>,<em>y</em>[:0] <em>cc</em>[,rot=#] <em>string</em> [<em>tex-string</em>]</strong><br /> writes <strong><em>string</em></strong> at (<strong><em>x</em></strong>, <strong><em>y</em></strong>). For examples, see this <a href="/docs/misc/fplot/#fun-with-labels">exercise on labels</a>. <ul> <li><strong>-lbl</strong> and <strong>-lblu</strong> position label at (<em>x</em>,<em>y</em>) in user’s units;   <strong>-lblm</strong> indicates medium units.</li> <li>Optional <strong>:0</strong> tells <strong style="color: blue">fplot</strong> to write lable without initially creating a blank box underneath the label.</li> <li><strong><em>cc</em></strong> is a sequence of two characters specifying the justification of <strong><em>string</em></strong>.<br /> The first character is one of   <strong>l</strong>, <strong>c</strong>, <strong>r</strong>   corresponding to right, center, left justification;<br /> The second is one of   <strong>u</strong>, <strong>c</strong>, <strong>d</strong>   corresponding to up, center, down justification.</li> <li>Alternatively, <strong><em>cc</em></strong> is <strong>tx,</strong> which flags <strong style="color: blue">fplot</strong> to run the postscript file through latex with string substitutions.<br /> In that case: <strong><em>tex-string</em></strong> is the actual (TeX) string and is required; <b><em>string</em></b> is merely a tag needed for latex processing.</li> </ul> </li> </ul> <p><i> </i></p> <ul> <li><strong>-lblx <em>xlst</em> <em>y</em>[:0] <em>cc</em> <em>str1</em> <em>str2</em> …   </strong> | <strong>   -lbly ylst x[:0] <em>cc</em> <em>str1</em> <em>str2</em> …</strong><br /> puts labels <strong><em>str1</em></strong>, <strong><em>str2</em></strong>, at a list <strong><em>xlst</em></strong> (<strong><em>ylst</em></strong>) of points distributed on the <strong><em>x</em></strong> axis (<strong><em>y</em></strong> axis) for a given value of <strong><em>y</em></strong> (<strong><em>x</em></strong>). The number of strings must match the number of elements in <strong><em>xlst</em></strong>. <ul> <li>Optional <strong>:0</strong> tells <strong style="color: blue">fplot</strong> to write without initially creating a blank rectangle in the text box.\</li> <li><strong><em>cc</em></strong> controls justification of labels; see <strong>-lbl</strong> above.</li> </ul> <p><strong><em>xlist</em></strong> (<strong><em>ylist</em></strong>) is a list of real numbers; it has same syntax as those of <a href="/docs/misc/integerlists/">integer lists</a>.</p> </li> </ul> <p><i> </i></p> <ul> <li><b> -xl <em>str</em>    </b> |    <b> -yl <em>str</em> </b>    |    <b> -tl <em>str</em> </b><br /> supplies a label for the abscissa, ordinate, or title (title appears above the frame).<br /> This switch adds no new functionality <strong>-lbl</strong> already has. It is convenient because it places the label at a reasonable default position.</li> <li><strong>-fmtnx:<em>string</em>   </strong>|<strong>   -fmtny:<em>string</em></strong><br /> awrite format for <em>x</em> axis or <em>y</em> axis label.</li> <li><b>-noxn | -noyn </b><br /> suppress abscissa (ordinate) axis numbering.</li> <li> <p><strong>-xn:t   </strong>|<strong>   -yn:r</strong><br /> place abscissa (ordinate) axis numbering on right (top) side.</p> </li> <li><strong>-font t#   </strong>|<strong>   -font h#</strong><br /> Sets the font for labels following this switch to Times Roman (Helvetica) font.   <ul> <li>If this switch occurs before the frame is drawn, it affects the font of the axis numbering.</li> <li><strong>#</strong> is the size in points.</li> </ul> </li> </ul> <p><i> </i></p> <ul> <li><strong>-k <em>x</em>,<em>y</em>[:<em>len</em>][,<em>spacing</em>][;<em>style</em>]</strong><br /> specifies key position (and length, spacing or style).</li> </ul> <h5 id="data-switches-draw-one-or-more-families-of-xy-data"><strong>DATA</strong> switches draw one or more families of xy data</h5> <!-- /docs/misc/fplot/#data-switches-draw-one-or-more-families-of-xy-data --> <p>Within a frame zero or more families of <em>xy</em> data can be drawn. <em>xy</em> data is typically read from a file; the syntax to plot data in <strong><i>data-file</i></strong> is</p><pre>
[DATA-switches] <i>data-file</i> | -tp <i>list</i> [[DATA-switches] <i>data-file</i> | -tp <i>list</i> ...]
</pre><p><strong>DATA-switches</strong> preceding <strong><i>data-file</i></strong> control how the ordinate, abscissa, and possible additional information (e.g. <a href="/docs/misc/fplot/#error-bars">error bars</a>, color weights, the <em>z</em> axis for 3D figures) is extracted from <strong><i>data-file</i></strong> and the manner in which data is drawn. For abscissa and ordinate you can select a particular column (<strong>-col</strong>), choose algebraic combination involving multiple columns of data (<strong>-ab</strong> and <strong>-ord</strong>). Also you may rearrange the data or cull out a subset of it (<strong>-map</strong>), or interpolate it (<strong>-itrp</strong>).</p> <p>As an alternative to reading data from a file you can supply it using switch <strong>-tp</strong>. Most of the examples in <a href="/docs/misc/fplot/#example-21-nbsp-plot-y20x2exp-4x">Example 2.1</a> use this form. <a href="/docs/misc/fplot/#example-22-nbsp-reading-fplot-commands-from-a-script-file">Example 2.2</a> provides a simple example of two sets of data plotted in a frame.</p> <ul> <li><strong>-lt <em>n</em>[~bold=<em>b</em>][~col=#,#,#][~colw=#,#,#][~fill=#][~brk=#][~<em>la</em>,<em>lb</em>,<em>lc</em>,<em>ld</em>]</strong><br /> Line type specification and attributes. Options separator <strong>~</strong> can be a different character such as <strong>:</strong> or <strong>,</strong>. <ul> <li><strong><em>n</em></strong>   line type <ul> <li><strong><em>n</em></strong>=0   No connecting line. Used to draw symbols at <a href="/docs/misc/fplot/#error-bars">points without any connecting lines</a>.</li> <li><strong><em>n</em></strong>=1   solid, unbroken line.</li> <li><strong><em>n</em></strong>=2   dashed line, or dot-dashed line. Dash lengths specified through <strong><em>la</em></strong> and <strong><em>lb</em></strong>.</li> <li><strong><em>n</em></strong>=3   dotted line.</li> </ul> </li> <li><strong>bold=<em>b</em></strong>            line thickness or dot size <strong><em>b</em></strong>. Allowed values for <strong><em>b</em></strong> are 0-9. Default is 3.</li> <li><strong>col=#,#,#</strong>       <a href="/docs/misc/fplot/#color-specification"><strong><em>r</em>,<em>g</em>,<em>b</em></strong></a> line color.</li> <li><strong>colw=#,#,#</strong>   First color weight when line is to be drawn with color weights.</li> <li><strong>fill=#</strong>                 fill color. <ul> <li>1   color line with color given by <strong>col</strong></li> <li>2   fill the area inside of the curve with color</li> <li>3   both 1 and 2</li> </ul> </li> <li><strong>brk=1</strong>               starts a new line whenever <i>x<sub>i</sub></i> &gt;<i>x<sub>i-1</sub></i></li> <li><strong><em>la</em>,<em>lb</em>,<em>lc</em>,<em>ld</em></strong>         length of dash and space (for dashed lines only). Dash length units are sized so that 1 correspond to a “typical” dash size. <ul> <li><strong><em>la</em></strong>   First dash length</li> <li><strong><em>lb</em></strong>   First space length</li> <li><strong><em>lc</em></strong>   Second dash length</li> <li><strong><em>ld</em></strong>   Second space length<br /> You can enter anywhere between 0 and 4 numbers. If fewer then three numbers are given, a simple a dashed line will result.<br /> Try <a href="/docs/misc/fplot/#dot-dashed-lines">this exercise</a>.</li> </ul> </li> </ul> </li> </ul> <p><i> </i></p> <ul> <li><strong>-s <em>S</em>[~col=#,#,#][~clip][~bold=<em>b</em>][~fill=<em>f</em>]~<em>sym1</em>[,<em>sym2</em> ..]</strong> <br /> Draw a symbol at each point in next <strong><i>data-file</i></strong>. <strong><em>S</em></strong> is one of twelve symbols listed in the table below.<br /> Each symbol has one or more attributes <strong><em>sym1</em>, <em>sym2</em></strong> that affect the symbol shape (see Table).<br /> Optional switches are separated by <strong>~</strong> (or the character following <strong><em>S</em></strong>): <ul> <li><strong>col=#,#,#</strong>   fill color or color of symbol contour</li> <li><strong>clip</strong>                If present, clips symbols that fall outside frame</li> <li><strong>bold=<em>b</em></strong>        line thickness for symbol contour. <strong>bold=0</strong> =&gt; fill symbol without contour.</li> <li><strong>fill=<em>f</em></strong>              controls how symbol is filled: <ul> <li><b><em>f</em></b>=0          do not fill symbol</li> <li><b><em>f</em></b>=1          fill the symbol with whitespace</li> <li><b><em>f</em></b>=2          fill symbol with gray. Specify shading with <strong>col=#</strong>.</li> <li><b><em>f</em></b>=3          fill symbol with <a href="/docs/misc/fplot/#color-specification">color</a> given by <strong>col=#,#,#</strong>.</li> </ul> </li> <li><b><em>sym1</em>, <em>sym2</em>,..</b> symbol attributes (optional for some symbols, required for others) that alter size and shape of symbol.<br /> The number and meaning of attributes depends on the symbol (see Table).<br /> <strong><em>S</em></strong> is specified in one of the following ways:<br />    <strong><em>S</em></strong> is one of the strings in the table below, e.g. <strong>square</strong> (only the first four characters are necessary)<br />    <strong><em>S</em></strong> is an index 1-12, listed in the table below<br />    <strong><em>S</em></strong> = −1. This causes <strong style="color: blue">fplot</strong> to read <strong>S</strong> and the modifiers <strong><em>sym1</em>, <em>sym2</em></strong> from <strong><i>data-file</i></strong>.<br />    In this case columns of <strong><i>data-file</i></strong> must hold:   4: symbol type (1=&gt;arrow 2=&gt;cone) 5-7: color 8-*, symbol attributes.</li> </ul> <p><div></p> <table> <tbody> <tr> <td><b><i>S</i></b></td> <td>index</td> <td>sym1</td> <td>sym2</td> <td>sym3</td> <td>sym4</td> <td>sym5</td> <td>sym6</td> </tr> <tr> <td>x</td> <td>1</td> <td>width†</td> <td>height†</td> <td> </td> <td> </td> <td> </td> <td> </td> </tr> <tr> <td>square</td> <td>2</td> <td>width†</td> <td>height†</td> <td> </td> <td> </td> <td> </td> <td> </td> </tr> <tr> <td>diamond</td> <td>3</td> <td>width†</td> <td>height†</td> <td> </td> <td> </td> <td> </td> <td> </td> </tr> <tr> <td>+</td> <td>4</td> <td>width†</td> <td>height†</td> <td> </td> <td> </td> <td> </td> <td> </td> </tr> <tr> <td>polygon</td> <td>5</td> <td>size</td> <td>number of sides</td> <td>angle†</td> <td> </td> <td> </td> <td> </td> </tr> <tr> <td>circle</td> <td>6</td> <td>radius†</td> <td> </td> <td> </td> <td> </td> <td> </td> <td> </td> </tr> <tr> <td>arrow</td> <td>7</td> <td>Δ<i>x</i></td> <td>Δ<i>y</i></td> <td>head length</td> <td>head angle</td> <td>head-on-axis</td> <td>placement†</td> </tr> <tr> <td>errbar</td> <td>8</td> <td>width</td> <td>height×<i>z</i></td> <td> </td> <td> </td> <td> </td> <td> </td> </tr> <tr> <td>timeline</td> <td>9</td> <td>end height</td> <td>line thickness</td> <td>end thickness</td> <td> </td> <td> </td> <td> </td> </tr> <tr> <td>hist</td> <td>10</td> <td>width</td> <td> </td> <td> </td> <td> </td> <td> </td> <td> </td> </tr> <tr> <td>row</td> <td>11</td> <td>scale</td> <td>offset</td> <td> </td> <td> </td> <td> </td> <td> </td> </tr> <tr> <td>wiggle</td> <td>12</td> <td>Δ<i>x</i></td> <td>Δ<i>y</i></td> <td>periods</td> <td>excursion</td> <td>points</td> <td> </td> </tr> </tbody> </table> <p></div></p> <p>Notes on the Table:<br /> Attributes marked with “†” are optional. By default, <strong>sym1</strong>=1 and <strong>sym2</strong>=<strong>sym1</strong>.<br /> Symbols 1-4 have a width and height given by <strong>sym1</strong> and <strong>sym2</strong> (thus <strong>square</strong> can be a rectangle).<br /> Symbol 5 (polygon) has an third attribute, which sets the angle of 1<sup>st</sup> point relative to the vertical.<br /> Symbol 6 (circle) has one attributes. It defaults to 1 if not specified.<br /> Symbol 7 draws arrows with the tip at (<em>x</em>, <em>y</em>). Attributes refer to:<br />      1,2 <strong>Δ<i>x</i></strong> and <strong>Δ<i>y</i></strong> are the endpoint of the tail relative to the tip (graphics units)<br />      3    <strong>head length</strong> is the size of the head as a fraction of arrow length<br />      4    <strong>head angle</strong> is the angle subtended by the arrowhead<br />      5    <strong>head-on-axis</strong> the head length along the arrow axis as a fraction of arrow length<br />      6    optional <strong>placement</strong>: set to 1 to put the tail at (<em>x</em>, <em>y</em>), or to 1/2 to center the arrow at (<em>x</em>, <em>y</em>).<br /> Symbol 8  draws error bars. <strong><i>data-file</i></strong> must have a third (<strong><em>z</em></strong>) element of data, in column 3.<br /> <em style="color: red">Note:</em> Error bars are also drawn through the <code>-ey</code> command. They are drawn before any possible second symbol through <code>-s</code>.<br /> See <a href="/docs/misc/fplot/#error-bars">this exercise</a> for an example.<br /> Symbol 9  (timeline) requires <strong><i>data-file</i></strong> to have a third (<strong><em>z</em></strong>) element of data to indicate size of timeline, in column 3.<br /> Symbol 10 (histogram) not documented.<br /> Symbol 11 (row) not documented.<br /> Symbol 12 (wiggle) draws a wiggly line:<br />      1,2  <strong>Δ<i>x</i></strong> and <strong>Δ<i>y</i></strong> are the endpoint of the tail relative to the head (graphics units)<br />      3     <strong>periods</strong> = number of oscillations in the symbol<br />      4     <strong>excursion</strong> = size of excursion about straight line<br />      5     (optional) <strong>points</strong> = number of points to draw the symbol: more points make the symbol smoother.<br /> <a href="/docs/misc/fplot/#using-the-wiggle-and-arrow-symbols">This exercise</a> illustrates the wiggle and arrow symbols.</p> </li> <li> <p><strong>-ey <em>n</em>[,Δ,<em>yshft</em>]</strong><br /> Add error bars to each point in the next <strong><em>data-file</em></strong>.<br /> The size of the error bar is taken from column <strong><em>n</em></strong> (<strong><em>data-file</em></strong> must have at least <strong><em>n</em></strong> columns) Optional <strong>Δ</strong> controls the width the the bar (1 is default). The error bar is offset from the point center by <strong><em>yshft</em></strong>. This can be used in place of, or in conjuction with <code>-s</code>; for example, see <a href="/docs/misc/fplot/#error-bars">error bar exercise</a>.</p> </li> <li> <p><strong>-l[0] <em>legend</em></strong><br /> Add <strong><em>legend</em></strong> to key for this data set.   Optional 0 suppresses blanking of the box where the legend is written.<br /> Switch is operative only if a key was originally specified.</p> </li> <li> <p><strong>-tp [<em>nc</em>~]<em>list</em></strong><br /> generates a table of points. Optional <strong><em>nc</em>~</strong> specifies the number columns in the list (defaults to 1).</p> </li> <li> <p><strong>-map [-i <em>expr</em>] <em>list</em></strong><br /> permutes rows original data array defined by <strong><em>list</em></strong>. The syntax of integer lists is described on <a href="/docs/misc/integerlists/">this page</a>.<br /> Optional <strong>-i <em>expr</em></strong> causes points for which <strong><em>expr</em>=0</strong> to be removed from <strong><em>list</em></strong>.<br /> For each point, <strong><em>expr</em></strong> can make use of the following variables:<br /> <strong>i</strong> (row index); <strong>x</strong> and <strong>y</strong> (columns for abscissa and ordinate; see <strong>-col</strong> below), <strong>nr</strong> and <strong>nc</strong> (number of rows and columns), <strong>xn</strong>  where  <strong>n</strong>  is column <em>n</em>.<br /> <strong><em>list</em></strong> is required : if you want to map all the points, use <strong>1:nr</strong> for <strong><em>list</em></strong>.<br /> <em>Example</em> :    <strong>-map   -i   ‘x&lt;=4’   1,3,5,4</strong><br /> culls an array from rows 1,3,5,4 of the original data. If the abscissa is  ≤4  the row is excluded.</p> </li> <li> <p><strong>-itrp <em>x1</em>,<em>x2</em>,<em>dx</em>[,<em>ifrat</em>][,<em>nord</em>]</strong><br /> interpolates data to a uniform mesh of points in the range (<strong><em>x1</em>,<em>x2</em></strong>) spaced by <strong><em>dx</em></strong>, using a polynomial.<br /> Set optional <strong><em>ifrat</em></strong> to 1 if to use a rational polynomial instead.<br /> Optional <strong><em>nord</em></strong> specifies the polynomial order.</p> </li> <li> <p><strong>-sort</strong><br /> sort data in ascending abscissa order (after mapping).</p> </li> <li><strong>-con[~options] <em>flist</em> [other DATA-switches] <em>data-file</em></strong><br /> special mode for contour plots. <strong><em>flist</em></strong> is a list of real numbers; specify with the same syntax as for <a href="/docs/misc/integerlists/">integer lists</a>.<br /> This mode draws contours of constant   <em>f</em>=<strong>#</strong>, interpolating discrete data read from <strong><em>data-file</em></strong> for each <strong>#</strong> in <strong><em>flist</em></strong>.<br /> <strong><em>data-file</em></strong> must consist of function values <em>f</em>(<i>x<sub>i</sub></i>,<i>y<sub>i</sub></i>) on a uniform rectangular grid of points (<i>x<sub>i</sub></i>,<i>y<sub>i</sub></i>).<br /> Elements in a fixed COLUMN comprise data on a uniform mesh parallel to abscissa, <em>f</em>(<i>x<sub>i</sub></i>,<i>y</i>=const).<br /> Elements in a fixed ROW commprise data on a uniform mesh parallel to ordinate, <em>f</em>(<i>x</i>=const,<i>y<sub>i</sub></i>).<br /> Bottom and top (left and right) edges of frame correspond to first and last columns (rows) of data.<br /> Options separator  ‘<strong>~</strong>‘  can be a different character such as  ‘<strong>:</strong>‘  or  ‘<strong>,</strong>’. <ul> <li><strong>dup=#1[,#2]</strong> Duplicate row (col) data #1 (#2) times</li> <li><strong>fn=<em>filename</em></strong> writes <em>xy</em> pen moves to file <strong><em>filename</em></strong>.</li> <li><strong>noclose</strong> suppresses closing contours on boundaries.</li> </ul> <p>See <a href="/docs/misc/fplot/#example-23-nbsp-charge-density-contours-in-cr">Example 2.2</a> above.</p> </li> <li><strong>-r:switches [other DATA-switches] <em>data-file</em></strong><br /> tells <strong style="color: blue">fplot</strong> how to parse contents <strong><em>data-file</em></strong>.<br /> Optional <strong>switches</strong> are separated by a colon: <ul> <li><strong>nr=#</strong> stipulate that next <strong><em>data-file</em></strong> has  <strong>#</strong>  rows</li> <li><strong>nc=#</strong> stipulate that next <strong><em>data-file</em></strong> has  <strong>#</strong>  columns</li> <li><strong>qr</strong>     read with fortran read (fast, no algebra; useful for large files)</li> <li><strong>br</strong>     read from binary file</li> <li><strong>s=#</strong>   skips  <strong>#</strong>  records before reading data</li> <li><strong>open</strong> leaves file open after reading. Useful when reading muliple blocks of data from a single file.</li> </ul> </li> <li><strong>-nc=<em>n</em></strong><br /> same function as <strong>-r_nc=#</strong></li> <li><strong>-qr</strong><br /> same function as <strong>-r:qr</strong></li> <li> <p><strong>-br</strong><br /> same function as <strong>-r:br</strong></p> </li> <li> <p><strong>-col <em>cx</em>,<em>cy</em>[,<em>cw</em>]</strong><br /> Use column <strong><em>cx</em></strong> for <strong>x</strong> and column <strong><em>cy</em></strong> for <strong>y</strong>. In the absence of further substitution (<strong>-ord <em>expr</em></strong> or <strong>-ab <em>expr</em></strong>) <strong>x</strong> and <strong>y</strong> are respectively the abscissa and ordinate. Default values are <strong>cx</strong>=1 and <strong>cy</strong>=2.</p> </li> <li><strong>-ord <em>expr</em></strong><br /> substitute <strong><em>expr</em></strong> for the ordinate. See <a href="/docs/misc/fplot/#example-21-nbsp-plot-y20x2exp-4x">Example 2.1</a> for examples. Expressions can use variables   <strong>x</strong>, <strong>y</strong> (see <strong>-col</strong> above),   <strong>i</strong> for row index, and  <strong>xn</strong>  where  <strong>n</strong>  is column <em>n</em>.</li> <li><strong>-ab <em>expr</em></strong><br /> substitute <strong><em>expr</em></strong> for the abscissa.<br /> Expressions can use variables   <strong>x</strong>, <strong>y</strong> (see <strong>-col</strong> above),   <strong>i</strong> for row index, and  <strong>xn</strong>  where  <strong>n</strong>  is column <em>n</em>.</li> <li> <p><strong>-abf <em>expr</em></strong><br /> maps numbering and tic marks on abscissa to <strong><em>expr</em></strong></p> </li> <li><strong>-colsy <em>list</em></strong><br /> make a family of <em>xy</em> plots for columns in list. The syntax of integer lists is described on <a href="/docs/misc/integerlists/">this page</a>.<br /> If the data consists of a single column, it is copied to column 2 and the row index is copied to column 1.<br /> Thus <code>fplot -colsy 2,4 ...</code> draws two curves, with column 2 as the first ordinate and column 4 as the second.</li> <li> <p><strong>-colsw <em>list</em></strong><br /> corresponding list of columns for color weights.</p> </li> <li><strong>-ins <em>strn</em></strong><br /> insert <strong><em>strn</em></strong> directly into output postscript file. There is no check that <strong><em>strn</em></strong> consists of valid postscript … you are on your own!</li> <li> <p><strong>-insf <em>file</em></strong><br /> insert the contents of <strong><em>file</em></strong> directly into output postscript file.</p> </li> <li><strong>-bs <em>radius</em>[;file-list]</strong><br /> (3D only) connects points within radius and file-list.</li> </ul> <hr /> <h3 id="additional-notes">4. <em>Additional notes</em></h3> <!-- /docs/misc/fplot/#additional-notes --> <h4 id="file-preprocessor">File preprocessor</h4> <!-- /docs/misc/fplot/#file-preprocessor --> <p>Both script files and data files are by default run through the <a href="/docs/input/preprocessor/">file preprocessor</a>. This provides programming capability in the script files.</p> <h5 id="on-the-differences-between-fplot-switches-in-a-script-file-and-on-the-command-line">On the differences between fplot switches in a script file and on the command line</h5> <!-- /docs/misc/fplot/#on-the-differences-between-fplot-switches-in-a-script-file-and-on-the-command-line --> <p>When commands are read from a script file, they can behave differently than when appearing on the command-line.</p> <p><em>Wild card expansion</em> : there is no unix wild-card expansion in a script file. Thus quotation marks to inhibit wild card expansion are not necessary, though they can be used.</p> <p><em>Curly brackets</em> : scripts are run through the <a href="/docs/input/preprocessor/">file preprocessor</a>, which interprets <a href="/docs/input/preprocessor/#curly-brackets-contain-expressions">curly brackets as expressions</a> and substitutes them. To keep the curly bracket pair and its contents intact, you must suppress the preprocessor’s expression substitution. Do this by prepending <strong>{strn}</strong> with a backslash, <em>viz</em> <strong>\{strn}</strong>. The preprocessor will remove the backslash but leave <strong>{strn}</strong> unaltered.</p> <p>This is necessary when you need curly bracket so that <strong style="color: blue">fplot</strong> can <a href="/docs/misc/fplot/#labelling-and-numbering-switches-govern-labels-and-axis-numbering">substitute fonts</a> in labels. For example, the last figure in Example 2.1 can be equivalently made by</p><pre>
$ echo fplot -ord '20*x^2*exp(-4*x)' -tp .02:2:.02 -lbl 1.0,0.5:0 cc '~\{D}&amp;\{k}_\{~\{\{\136}}}/&amp;\{k}_\{0}' &gt; myplot
$ fplot -f myplot
</pre><p>Note that the label now contains backslashes. You must include the backslash when the label appears in a script file.</p> <h4 id="color-specification">Color specification</h4> <!-- /docs/misc/fplot/#color-specification --> <p>Some switches specify colors through, <strong>col=<em>r</em>,<em>g</em>,<em>b</em></strong>. These are RBG conventions (red, green, blue) expressed as a fraction of the brightest color. 0 is the absence of color, and 1 is the brightest color.</p> <h4 id="user-units">User units</h4> <!-- /docs/misc/fplot/#user-units --> <p><em>User’s units</em> are the units the data are represented in. Each frame can have its own set of units. Units that bound the box of the frame can be specified through   <strong>-x <i>x</i><sub>1</sub></strong>,<strong><i>x</i><sub>2</sub></strong> and   <strong>-y <i>y</i><sub>1</sub></strong>,<strong><i>y</i><sub>2</sub></strong>.</p> <p>In the absence of explicit specification, <strong style="color: blue">fplot</strong> will parse through all the families of data to be drawn in the current frame to determine the bounds and determine one or both of (<strong><i>x</i><sub>1</sub></strong>,<strong><i>x</i><sub>2</sub></strong>) (<strong><i>y</i><sub>1</sub></strong>,<strong><i>y</i><sub>2</sub></strong>) not specified from the smallest and largest values it finds.</p> <p>Once (<strong><i>x</i><sub>1</sub></strong>,<strong><i>x</i><sub>2</sub></strong>) and (<strong><i>y</i><sub>1</sub></strong>,<strong><i>y</i><sub>2</sub></strong>) bounds have been obtained, they are padded by (both abscissa and ordinate are enlarged on each end) by a fraction of their starting distance. The bounds are stretched by a fraction 0.1 by default, but you can set the padding to any number with the <strong>-p</strong> argument.</p> <h4 id="graphics-units-and-medium-units">Graphics units and medium units</h4> <!-- /docs/misc/fplot/#graphics-units-and-medium-units --> <p><em>Graphics units</em> are used to facilitate construction of some elements of the figure.</p> <p>They range from (0,0) to (1,1) for the largest square that fits within the plot medium. Graphics units are convenient for quantities that depend on the size of the figure, and not the units of data. Examples are the size of tic marks, the size of symbols, and spacing between elements in a key.</p> <p><em>Medium units</em> are historical. In the early days graphs had to be drawn on hardware with specific units. They appear interally in the source code but don’t need to be dealt with by the user.</p> <h4 id="structure-of-data-files">Structure of data files</h4> <p>Data files follow a standard Questaal format for two-dimensional arrays. Unless instructed otherwise (<strong>-r:qr</strong>), <strong style="color: blue">fplot</strong> will pass the data file through the <a href="/docs/input/preprocessor/">file preprocessor</a> before parsing it for values.</p> <p><strong style="color: blue">fplot</strong> must obtain information about the number of rows and columns in the file. The safest way to specify this is indicate it in the first line; see for example the charge density file <em style="color: green">chgd.cr</em> used by <a href="/docs/misc/fplot/#example-23-nbsp-charge-density-contours-in-cr">Example 2.3</a>. It begins with:</p> <p>~~~~ % rows 101 cols 101 0.0570627197 0.0576345670 0.0595726102 0.0628546738 … ~~~</p> <p><strong>nr</strong> and <strong>nc</strong> can be stipulated in the data file as shown, but the information can be supplied in other ways.</p> <ul> <li>The parser checks to see whether the first nonblank, non-preprocessor directive, begins with <code>% ... rows nr</code> or <code>% ... cols nc</code>.<br /> It uses whatever information is supplied to set the number of rows to <strong>nr</strong> and/or columns to <strong>nc</strong>.</li> <li>Command-line switches   <code>-r:nr=#</code> or <code>-r:nc=#</code> (or just <code>-nc=#</code>) can specify <strong>nr</strong> and/or <strong>nc</strong>.</li> <li>If <strong>nr</strong> has not been stipulated in some manner, <strong style="color: blue">fplot</strong> works it out from the file contents.</li> <li>If <strong>nc</strong> has not been stipulated, the parser will count the number of elements in the first line containing data elements, and assign <strong>nc</strong> to it.<br /> For the particular file <em style="color: green">chgd.cr</em>, <strong style="color: blue">fplot</strong> would incorrectly infer <strong>nc</strong>=4: so <strong>nc</strong> must be stipulated in this case.</li> </ul> <h3 id="other-resources">5. <em>Other resources</em></h3> <p>See the <a href="/docs/misc/plbnds/">plbnds</a> and <a href="/docs/misc/pldos/">pldos</a> manuals.</p> <!-- Need to explain cw in + **-col _cx_,_cy_[,_cw_]**\\ + bs + more on map. Eg. variable nr. + expand on -tp expand on -map --> <h3 id="additional-exercises">6. <em>Additional exercises</em></h3> <!-- /docs/misc/fplot/#additional-exercises --> <h4 id="error-bars">Error bars</h4> <!-- /docs/misc/fplot/#error-bars --> <p>You can specify error bars for each <em>xy</em> pair through either the <code>-s</code> command or the <code>-ey</code> command. With the latter you can use <code>-s</code> to draw a second symbol at the point. In either case three columns of data are required, the third column containing the error bar.</p> <p>Example showing an error bar and a circle:</p><pre><code>$ fplot -frmt th=3,1,1 -lt 0 -ey 3,.75 -s circ~fill=2~col=0,0,0~.5 -tp 3~1,1,.1,2,4,.2,3,9,.3
</code></pre><ul> <li>An error bar is drawn first, using column 3 (-ey 3,.75) and to the size of the error bar, and scaling the width by 0.75.</li> <li>A filled circle is drawn over the error bar.</li> <li>No line is drawn connecting points: <strong>lt 0</strong> suppresses lines.</li> </ul> <h4 id="dot-dashed-lines">Dot-dashed lines</h4> <!-- /docs/misc/fplot/#dot-dashed-lines --> <p>In <a href="/docs/misc/fplot/#example-22-nbsp-charge-density-contours-in-cr">Example 2.2</a>, a horizontal dashed line was drawn. Try substituting the following line type for the dashed line:</p><pre><code>-lt 2,bold=4,col=.8,.3,.0,1,.5,.3,.5
</code></pre><p>It should generate a dot-dashed line. The sequence <strong>1,.5,.3,.5</strong> specifies the dot-dashed sequence. <strong>1,.5,</strong> specifies a dash length 1 followed by a dash length 0.5. In this case a second sequence (<strong>.3,.5</strong>) is present. This specifies that (line,space) pair of <strong>1,.5,</strong> and (line,space) pair of <strong>.3,.5,</strong> are drawn in alternation.</p> <h4 id="using-the-wiggle-and-arrow-symbols">Using the wiggle and arrow symbols</h4> <!-- /docs/misc/fplot/#using-the-wiggle-and-arrow-symbols --> <p>This exercise shows applications of the wiggly line symbol, together with the arrow symbol. Cut and paste the box below into script file <em style="color: green">plot.wiggle</em>.</p><pre><code>fplot
  -frme .0,.7,0,.7 -x 0,1 -y 0,1 -frmt th=2,3,3 -noyn -ord 1.2 -tp 1.5
  -s wiggle:fill=0:bold=4:col=0.,1.,0.:-.15,0.16,2.3,.05 -ord .5 -tp 0.5
  -lt 0,bold=2 -s arrow:fill=3:col=0.,0.,0.:-.15/4,0.16/4,.99,25,.9 -ord 0.5 -tp 0.5
  -lt 0 -s wiggle:fill=3:bold=1:col=.5,1,0.:-.35,0.00,0.5,.1,40 -ord .5-.05 -tp 0.8
</code></pre><p>Create and view the postscript file:</p><pre><code>$ fplot -f plot.wiggle
$ open fplot.ps
</code></pre><p>Notes:</p> <ul> <li><code>-s wiggle:fill=0:bold=4:col=0.,1.,0.:-.15,0.16,2.3,.05 -ord .5 -tp 0.5</code> creates a wiggly line ending at (0.5,0.5), sloping downward with run/rise = <strong>-0.15,0.16</strong>.</li> <li><code>-lt 0,bold=2 -s arrow:fill=3:col=0.,0.,0.:-.15/4,0.16/4,.99,25,.9 -ord 0.5 -tp 0.5</code> tacks an arrowhead onto the line with the tip at (0.5,0.5), pointed at the same angle as the wiggle but 1/4 size.</li> <li><code> -lt 0 -s wiggle:fill=3:bold=1:col=.5,1,0.:-.35,0.00,0.5,.1,40 -ord .5-.05 -tp 0.8</code> creates a wiggly line with only half a period, and then fills the symbol with yellow-green.</li> </ul> <p>Play with the last line, and see what happens as you change the <strong>fill</strong> value between 0 and 3, and the <strong>bold</strong> value between 0 and 5.</p> <h4 id="fun-with-labels">Fun with labels</h4> <!-- /docs/misc/fplot/#fun-with-labels --> <p>This exercise shows off many of <strong style="color: blue">fplot</strong>’s labelling capabilities. Cut and paste the box below into script file <em style="color: green">plot.text</em>.</p><pre><code>fplot -p0 -font t18
#       -plaintext
      -lt 2,bold=2 -tp 2~0.3,0,0.3,1
      -lt 2,bold=2 -tp 2~0,0.4,1,0.4

      -xl horizontal\'next line' -yl 'vertical\next line'
      -lblu 0.25,0.25 lc,rot=40 '~\{Dj}_\{t^\{2_\{g}}}~\{-a}^\{4} at 40^\{o}'
      -lblu 0.3,0.4 ru '@\{ru} justification above horizontal line'
      -lblu 0.3,0.4 ld '@\{ld} justification'
      -lbl 0.5,.94 cc "@\{cc} justification with special subscript &amp;\{k}_\{~\{\{\136}}}"
      -lbl 0.2,.89 rc "arrows ~\{\{\253\254\255\256\257}}
      -lbl 0.2,.84 rc "brackets ~\{\{\341A\361\355\375\357\364\174}}
      -lbl 0.2,.79 rc "symbols ~\{\{\243\245\321\326\327\333\334\335\336\337\362\134\136}}
      -lbl 0.2,.74 rc "symbols ~\{\{\261\262\263\264\265\266\267\271\272\273\274}}

</code></pre><p>Create and view the postscript file:</p><pre><code>$ fplot -f plot.text
$ open fplot.ps
</code></pre><p>Note the following:</p> <ul> <li>‘<strong>\</strong>’ creates a line break: see labels after <code>-xl</code> and <code>-yl</code>.</li> <li>To rotate a label append <strong>,rot=#</strong> to the justification string. <strong>#</strong> is the rotation in degrees. See the effect of <strong>lc,rot=40</strong> above.</li> <li>Note Greek characters and multiple nesting of subscripts in <code>'~\{Dj}_\{t^\{2_\{g}}}~\{-a}^\{4}'</code>.<br /> <em>t</em> is a subscript to <i>φ</i>;   2 is a superscript to <em>t</em>;   <em>g</em> is a subscript to 2.<br /> <em style="color: red">Note:</em> <a href="/docs/misc/fplot/#on-the-differences-between-fplot-switches-in-a-script-file-and-on-the-command-line">backslashes are necessary</a> to suppress special treatment of <strong>{..}</strong> by the file preprocessor.</li> <li>Compare the effects of <strong>ru</strong> (left,upper) justification, <strong>ld</strong> (right,lower) justification, and <strong>cc</strong> (centered) justification.</li> <li>Note the special characters in the Symbols font created by <code>arrows ...</code>, <code>brackets ...</code> and <code>symbols ...</code>.</li> </ul> <p><em>Things to try</em> :</p> <p>Uncomment the <code>-plaintext</code> line and observe how the labels change.</p> <p>Try other combinations of the justification tags, e.g. turn   <strong>lu</strong> into   <strong>rc</strong>. The first character can be one of   <strong>l</strong>, <strong>c</strong>, <strong>r</strong>; the second one of   <strong>u</strong>, <strong>c</strong>, <strong>d</strong>.</p> <p>Replace ‘<strong>~</strong>’ with ‘<strong>@</strong>’. A completely different group of characters result.   ‘<strong>~</strong>’ <a href="/docs/misc/fplot/#labelling-and-numbering-switches-govern-labels-and-axis-numbering">maps the characters</a> in <strong>{…}</strong> immediately following ‘<strong>~</strong>’ into the postscript Symbol font. (The full Symbol character set can be found on p 612 of <a href="http://partners.adobe.com/public/developer/en/ps/psrefman.pdf">the postscript manual</a>.)<br />   ‘<strong>@</strong>’ writes Latin characters in a bold version of the standard Roman character set (p 604 of the <a href="http://partners.adobe.com/public/developer/en/ps/psrefman.pdf">the postscript manual</a>).<br /> Dagger (†) and double dagger (‡) appear in the Roman set but not the Symbol.</p> <hr /> </article> </div><!-- /.medium-12.columns --> </div><!-- /.row --> <div id="up-to-top" class="row"> <div class="small-12 columns" style="text-align: right;"> <a class="iconfont" href="#top-of-page">&#xf108;</a> </div><!-- /.small-12.columns --> </div><!-- /.row --> <footer id="footer-content" class="bg-grau"> <div id="footer"> <div class="row"> <div class="medium-6 large-5 columns"> <h5 class="shadow-black">About This Site</h5> <p class="shadow-black"> Questaal is a suite of programs for LMTO and GW simulations. <a href="https://lordcephei.github.io/info/">More ›</a> </p> </div><!-- /.large-6.columns --> <div class="small-6 medium-3 large-3 large-offset-1 columns"> <h5 class="shadow-black">Services</h5> <ul class="no-bullet shadow-black"> <li > <a href="https://lordcephei.github.io" title=""></a> </li> <li class="services-contact" > <a href="https://lordcephei.github.io/contact/" title="Contact">Contact</a> </li> <li class="list" > <a href="https://lordcephei.github.io/developers/" title="Contact the developers">Developers</a> </li> </ul> </div><!-- /.large-4.columns --> <div class="small-6 medium-3 large-3 columns"> <h5 class="shadow-black">Related websites</h5> <ul class="no-bullet shadow-black"> <li > <a href="https://lordcephei.github.io" title=""></a> </li> <li class="network-entypo" > <a href="http://lmsuite.org" target="_blank" title="">Original LM Suite</a> </li> </ul> </div><!-- /.large-3.columns --> </div><!-- /.row --> </div><!-- /#footer --> </footer> <script src="https://lordcephei.github.io/assets/js/javascript.min.js"></script> <script> (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){ (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o), m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m) })(window,document,'script','//www.google-analytics.com/analytics.js','ga'); ga('create', 'UA-60112281-1', 'auto'); ga('set', 'anonymizeIp', true); ga('send', 'pageview'); </script> </body> </html>
