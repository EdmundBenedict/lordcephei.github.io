---
layout: page-fullwidth
title: "lmgf Documentation"
subheadline: ""
show_meta: false
teaser: ""
permalink: "/lmgf-documentation/"
header: no
---

### _Table of Contents_
{:.no_toc}
*  Auto generated table of contents
{:toc} 

### _Purpose_
_____________________________________________________________

This package implements the ASA local spin-density approximation using Green's functions. The Green's functions are contructed by approximating KKR multiple-scattering theory with an analytic potential function. The approximation to KKR is essentially similar to the linear approximation employed in band methods such as LMTO and LAPW. It can be shown that this approximation is nearly equivalent to the LMTO hamiltonian without the "combined correction" term. With this package a new program, **lmgf**{: style="color: blue"} is added to the suite of executables. **lmgf**{: style="color: blue"} plays approximately the same role as the LMTO-ASA band program **lm**{: style="color: blue"}: a potential is generated from energy moments $$Q_0$$, $$Q_1$$, and $$Q_2$$ of the density of states. in the same way as the **lm**{: style="color: blue"} code. You can use **lmgf**{: style="color: blue"} to make a self-consistent density as you can do with **lm**{: style="color: blue"}. lmgf is a Green's function method: Green's functions have less information than wave functions, so in one sense the things you can do with lmgf are more limited: you cannot make the bands directly, for example. However **lmgf**{: style="color: blue"} enables you do do things you cannot do with **lm**{: style="color: blue"}. The two most imprortant are:

+ Calculate magnetic exchange interactions 
+ Calculate magnetic susceptibility (spin-spin, spin-orbit, orbit-orbit parts)
+ Calculate properties of disordered materials, either chemically disordered or spin disorder from finite temperature, within the Coherent Potential Approximation, or CPA.
+ Calculate the ASA static susceptibility at $$q=0$$ to help converge calculations to self-consistency. 


### _Structure of Green's function program_
_____________________________________________________________

**lmgf**{: style="color: blue"} runs in much the same way as program **lm**{: style="color: blue"}. The band pass routine of **lm**{: style="color: blue"}, **bndasa.f**, generates the eigenvalues and eigenvectors, which can in turn generate the quantities of interest. **bndasa** is replaced by a Green's function routine, **gfasa**. **gfasa** can generate output moments DOS, density-matrix, etc., in the same way as **bndasa**.

In contrast to band methods (such as implemented in **lm**{: style="color: blue"}) where the Hamiltonian H is energy independent and all the bands are generated by diagonalizing H, Green's functions are calculated for a specific energy; information is extracted from G for a particular energy.

This fact highlights the strengths and weaknesses of a Green's function approach. Energy-integrated properties such as the moments, must be obtained by integrating over energy. Calculating G explicitly at a family of energies is more cumbersome than diaonalizing a hamiltonian. On the other hand, Green's function methods are naturally suited to contexts where the energy-dependence is needed anyway. CPA theory yields an energy-dependent potential; Green's functions are natural way to implement it. Similarly, noninteracting susceptibilities can be expressed as G×G (`×' implies either convolution or product depending on the space you are working in).

**lmgf**{: style="color: blue"} always loops over some energy contour; what contour you use depends on the context as described see below. **gfasa** accumulates various kinds of data for each mesh point, such as the point's contribution the from energy moments used in an ASA self-consistent cycle. Finally an estimate for the Fermi level EF is determined using a from Pade approximation. If the original guess for EF is sufficiently close, the cycle is finished as in program **lm**{: style="color: blue"}. If the estimate is too far off, a new energy mesh is taken and the process repeated. 
