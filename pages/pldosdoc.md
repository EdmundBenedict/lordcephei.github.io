---
layout: page-fullwidth
title: "The pldos program"
permalink: "/docs/misc/pldos/"
header: no
---
_____________________________________________________________


### _Purpose_
{:.no_toc}

**pldos**{: style="color: blue"} is designed to generate data to make figures of paritial densities-of-states.

It can make postscript files directly, but this tool is is mostly used to set up render data files generated by
Questaal codes into a [simple, easy-to-read format](/docs/misc/fplot/#structure-of-data-files). 
It also makes a script for the [**fplot**{: style="color: blue"}](/docs/misc/fplot/) graphics tool,
but the simple data format is suitable for use by any graphics package.

_____________________________________________________________

### _Preliminaries_
{:.no_toc}

Executables **pldos**{: style="color: blue"} and **fplot**{: style="color: blue"}, are required and are assumed to be in your path. 
You will also need a postscript viewer.  This document assumes you are using the apple-style **open**{: style="color: blue"} command to view postscript files.


### _Table of Contents_
{:.no_toc}
*  Auto generated table of contents
{:toc}


_____________________________________________________________

### 1. _Introduction_
_____________________________________________________________

Needs to be written ...

### 2. _Examples_
_____________________________________________________________

... to be completed	    

### 3. _pldos manual_
_____________________________________________________________


Invoke **pldos**{: style="color: blue"} in one of the following ways:
<pre>
pldos [-switches] <i>filename</i>
echo <i>dmax</i>, <i>h</i>, <i>emin</i>, <i>emax</i> | pldos -lst=... [-switches] <i>filename</i>
</pre>

_filename_{: style="color: green"} is the name of the DOS file generated by the Questaal package, e.g. _dos.ext_{: style="color: green"}.
This may be the total DOS generated by a band code such as **lm**{: style="color: blue"} or the partial DOS
generated by **lmdos**{: style="color: blue"}.

**pldos**{: style="color: blue"} will cull DOS from _dos.ext_{: style="color: green"}, and combine them according to lists you create.
In the first form (without the **-\-\lst=** switch) you will be prompted with a pair of questions:

~~~
 dos 1:  Enter list of dos to be added:
 Weights for dos: 1?
~~~

To the first question enter an integer, corresponding to which DOS you want, or a list of integers.  See [here](/docs/misc/integerlists/)
for the syntax of integer lists.   To the second question enter a corresponding
list of weights to assign each DOS.

These questions will be repeated until you enter a blank list in response to the first question.
Each group of DOS will generate a new panel; thus multiple panels (one below the other) can be drawn.

These interactive questions can be bypassed with the **\-\-lst=** switch.  Create a sequence of one or more lists 
_list1_, &nbsp; _list2_, &nbsp; &hellip; using -\-\lst=_list1_;_list2_;...`.
Each of _list1_, &nbsp; _list2_, &nbsp; &hellip; consist of a group of DOS that will be combined.
For each list a new panel will be made.

After the lists are read (or parsed from **\-\-lst=**), **pldos**{: style="color: blue"} reads four numbers from **stdin**:\\
 `dmax, height, emin, emax`

+ `dmax` is the caps the DOS in the figure so as not to exceed this value
+ `height` is of dmax (ordinate), in cm.
+ `emin` and `emax` make the lower and upper energies of the figure (the energy appears on the abscissa).

#### Command line switches

Optional switches perform the following functions:

+ **-lst2\|-lst2=list...***\\
  performs the same function as **-lst** but for second spin.\\
  **-lst2** without arguments means to ust use arguments of **-lst**, but incrementing each element by 1.

+ **-fplot**\\
  causes **pldos**{: style="color: blue"} to create input for **fplot**{: style="color: blue"} or another graphics package.
  This switch causes **pldos**{: style="color: blue"} to do the following:
  1. write collated dos to file _dosp.dat_{: style="color: green"}
  2. generate a script _plot.dos_{: style="color: green"}.
  3. suppress directly creating a postscript file

+ **-long** \\
  writes fplot _dosp.dat_{: style="color: green"} with 6 decimals, rather than 4

+ **-inc:fname**\\
  prepends contents of fname to fplot script file

+ **-ref:fn=filename[:chan=ref-channel] \\
  single DOS with color weights.
  + Reference DOS is total DOS file, standard format
  + filename is partial DOS file, standard format, e.g.\\
    pldos -ef=0 -escl=13.6 -fplot '-lst=3;1' -ref:fn=dos.cr:scale dosl.cr

+ **-dif:#[,rat]] \| -int**\\
  differentiate or integrate DOS

+ **-ext=strn**\\
  replace "dat" extension in fplot data files with "strn"

+ **-ef=#||-shiftef=#\\
  shift Fermi level to or by #

+ **-escl=# \\
  scale energy axis by #

+ **-esclxy=#**\\
  scales E by # and DOS by 1/#

_____________________________________________________________

### 4. _Other resources_

See the documentation for [fplot](/plbnds/) and [plbnds](/plbnds/).
